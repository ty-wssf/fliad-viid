import{r as e}from"./formRules-B2bzcXv4.js";import{h as l}from"./index-DcffTgQN.js";import{d as a,f as t,a1 as o,a6 as s,V as u,a2 as d,k as r,u as n,H as i}from"./vue-vendor-BzDj5Url.js";const c=(e,...a)=>l("/sys/field/"+e,...a),m={fieldPage:e=>c("page",e,"get"),fieldTree:e=>c("tree",e,"get"),submitForm:(e,l=!1)=>c(l?"edit":"add",e),fieldDelete:e=>c("delete",e),fieldDetail:e=>c("detail",e,"get"),fieldMenuTreeSelector:e=>c("MenuTreeSelector",e,"get")},f=a({name:"sysResourceFieldForm"}),v=Object.assign(f,{emits:{successful:null},setup(l,{expose:a,emit:c}){const f=t(!1),v=c,p=t();t([]),t();const b=t({}),g=t(),_=()=>{p.value.resetFields(),f.value=!1},j={title:[e("请输入字段名称")],code:[e("请输入字段驼峰编码")]},y=()=>{p.value.validate().then(()=>{const e={category:"FIELD",parentId:g.value.id},l=Object.assign(e,b.value);m.submitForm(l,b.value.id).then(e=>{_(),v("successful")})}).catch(()=>{})};return a({onOpen:(e,l)=>{f.value=!0,g.value=e,b.value={sortCode:99},l&&(b.value=Object.assign({},l))}}),(e,l)=>{const a=o("a-input"),t=o("a-form-item"),c=o("a-input-number"),m=o("a-form"),v=o("a-modal");return u(),s(v,{open:n(f),"onUpdate:open":l[3]||(l[3]=e=>i(f)?f.value=e:null),title:n(b).id?"编辑字段":"增加字段",width:550,"mask-closable":!1,"destroy-on-close":!0,onOk:y,onCancel:_},{default:d(()=>[r(m,{ref_key:"formRef",ref:p,model:n(b),rules:j,layout:"vertical"},{default:d(()=>[r(t,{label:"显示名称：",name:"title"},{default:d(()=>[r(a,{value:n(b).title,"onUpdate:value":l[0]||(l[0]=e=>n(b).title=e),placeholder:"请输入显示名称","allow-clear":""},null,8,["value"])]),_:1}),r(t,{label:"编码：",name:"code"},{default:d(()=>[r(a,{value:n(b).code,"onUpdate:value":l[1]||(l[1]=e=>n(b).code=e),placeholder:"请输入字段驼峰编码","allow-clear":""},null,8,["value"])]),_:1}),r(t,{label:"排序:",name:"sortCode"},{default:d(()=>[r(c,{class:"xn-wd",value:n(b).sortCode,"onUpdate:value":l[2]||(l[2]=e=>n(b).sortCode=e),max:100,min:0},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["open","title"])}}}),p=Object.freeze(Object.defineProperty({__proto__:null,default:v},Symbol.toStringTag,{value:"Module"}));export{v as _,p as a,m as f};
