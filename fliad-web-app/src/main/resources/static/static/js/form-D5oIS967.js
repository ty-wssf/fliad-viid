import{t as e}from"./index-DcffTgQN.js";import{r as a}from"./formRules-B2bzcXv4.js";import{v as l}from"./viidCascadePlatformApi-zqOJAWEq.js";import{b as t}from"./ant-design-vendor-CRFwT3Wn.js";import{d as o,f as s,a1 as u,a6 as d,V as r,a2 as n,k as i,u as m,G as p}from"./vue-vendor-BzDj5Url.js";const v=o({name:"viidCascadePlatformForm"}),f=Object.assign(v,{emits:{successful:null},setup(o,{expose:v,emit:f}){const c=s(!1),I=f,y=s(),b=s({}),_=s(!1),h=s([]),w=s([]),g=()=>{y.value.resetFields(),b.value={},c.value=!1},j={systemId:[a("请输入视图库ID")],name:[a("请输入视图库名称")],ipAddr:[a("请输入IP地址")],port:[a("请输入端口")],type:[a("请输入视图库类型")]},P=()=>{y.value.validate().then(()=>{_.value=!0;const e=t(b.value);l.viidCascadePlatformSubmitForm(e,e.id).then(()=>{g(),I("successful")}).finally(()=>{_.value=!1})})};return v({onOpen:a=>{if(c.value=!0,a){let e=t(a);b.value=Object.assign({},e)}h.value=e.dictList("VIID_ONLINE"),w.value=e.dictList("VIID_TYPE")}}),(e,a)=>{const l=u("a-input"),t=u("a-form-item"),o=u("a-input-number"),s=u("a-select"),v=u("a-form"),f=u("a-button"),I=u("a-drawer");return r(),d(I,{title:m(b).id?"编辑视图库":"增加视图库",width:600,visible:m(c),"destroy-on-close":!0,"footer-style":{textAlign:"right"},onClose:g},{footer:n(()=>[i(f,{style:{"margin-right":"8px"},onClick:g},{default:n(()=>a[7]||(a[7]=[p("关闭")])),_:1}),i(f,{type:"primary",onClick:P,loading:m(_)},{default:n(()=>a[8]||(a[8]=[p("保存")])),_:1},8,["loading"])]),default:n(()=>[i(v,{ref_key:"formRef",ref:y,model:m(b),rules:j,layout:"vertical"},{default:n(()=>[i(t,{label:"视图库ID：",name:"systemId"},{default:n(()=>[i(l,{value:m(b).systemId,"onUpdate:value":a[0]||(a[0]=e=>m(b).systemId=e),placeholder:"请输入视图库ID","allow-clear":""},null,8,["value"])]),_:1}),i(t,{label:"视图库名称：",name:"name"},{default:n(()=>[i(l,{value:m(b).name,"onUpdate:value":a[1]||(a[1]=e=>m(b).name=e),placeholder:"请输入视图库名称","allow-clear":""},null,8,["value"])]),_:1}),i(t,{label:"IP地址：",name:"ipAddr"},{default:n(()=>[i(l,{value:m(b).ipAddr,"onUpdate:value":a[2]||(a[2]=e=>m(b).ipAddr=e),placeholder:"请输入IP地址","allow-clear":""},null,8,["value"])]),_:1}),i(t,{label:"端口：",name:"port"},{default:n(()=>[i(o,{value:m(b).port,"onUpdate:value":a[3]||(a[3]=e=>m(b).port=e),placeholder:"请输入端口",min:1,max:65535,style:{width:"100%"}},null,8,["value"])]),_:1}),i(t,{label:"视图库类型：",name:"type"},{default:n(()=>[i(s,{value:m(b).type,"onUpdate:value":a[4]||(a[4]=e=>m(b).type=e),placeholder:"请选择视图库类型",options:m(w)},null,8,["value","options"])]),_:1}),i(t,{label:"授权用户：",name:"userId"},{default:n(()=>[i(l,{value:m(b).userId,"onUpdate:value":a[5]||(a[5]=e=>m(b).userId=e),placeholder:"请输入授权用户","allow-clear":""},null,8,["value"])]),_:1}),i(t,{label:"授权密码：",name:"password"},{default:n(()=>[i(l,{value:m(b).password,"onUpdate:value":a[6]||(a[6]=e=>m(b).password=e),placeholder:"请输入授权密码","allow-clear":""},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title","visible"])}}});export{f as default};
