import{r as _}from"./formRules-B2bzcXv4.js";import{c as e}from"./configApi-BMiyCPj3.js";import{k as a,b as E}from"./ant-design-vendor-CRFwT3Wn.js";import{d as l,f as c,a1 as n,a6 as S,V as o,a2 as t,k as r,u as d,Z as R,G as s}from"./vue-vendor-BzDj5Url.js";import"./index-DcffTgQN.js";const i=l({name:"cForm"}),O=Object.assign(i,{setup(l){const i=c(),O=c({}),F=c(!1),L=c(!0);e.configList({category:"REGISTER_STRATEGY_FOR_C"}).then(_=>{L.value=!1,_?_.forEach(_=>{O.value[_.configKey]=f(_.configValue)}):a.warning("表单项不存在，请初始化数据库")});const f=_=>"true"===_||"false"===_?"true"===_:_,u={SNOWY_SYS_DEFAULT_ALLOW_REGISTER_FLAG_FOR_C:[_("请选择是否需要注册")],SNOWY_SYS_DEFAULT_REGISTER_NEED_BIND_PHONE_FOR_C:[_("请选择注册时是否需要绑定手机号")],SNOWY_SYS_DEFAULT_REGISTER_NEED_BIND_EMAIL_FOR_C:[_("请选择注册时是否需要绑定邮箱")]},N={span:4},A={span:12};return(_,a)=>{const l=n("a-switch"),c=n("a-form-item"),f=n("a-button"),T=n("a-form"),h=n("a-spin");return o(),S(h,{spinning:d(L)},{default:t(()=>[r(T,{ref_key:"formRef",ref:i,model:d(O),rules:u,layout:"vertical","label-col":{...N,offset:0},"wrapper-col":{...A,offset:0}},{default:t(()=>[r(c,{label:"是否允许注册：",name:"SNOWY_SYS_DEFAULT_ALLOW_REGISTER_FLAG_FOR_C"},{default:t(()=>[r(l,{checked:d(O).SNOWY_SYS_DEFAULT_ALLOW_REGISTER_FLAG_FOR_C,"onUpdate:checked":a[0]||(a[0]=_=>d(O).SNOWY_SYS_DEFAULT_ALLOW_REGISTER_FLAG_FOR_C=_),"checked-children":"是","un-checked-children":"否",placeholder:"请选择是否允许注册"},null,8,["checked"])]),_:1}),d(O).SNOWY_SYS_DEFAULT_ALLOW_REGISTER_FLAG_FOR_C?(o(),S(c,{key:0,label:"注册后是否需要绑定手机号：",name:"SNOWY_SYS_DEFAULT_REGISTER_NEED_BIND_PHONE_FOR_C"},{default:t(()=>[r(l,{checked:d(O).SNOWY_SYS_DEFAULT_REGISTER_NEED_BIND_PHONE_FOR_C,"onUpdate:checked":a[1]||(a[1]=_=>d(O).SNOWY_SYS_DEFAULT_REGISTER_NEED_BIND_PHONE_FOR_C=_),"checked-children":"是","un-checked-children":"否",placeholder:"请选择注册后是否需要绑定手机号"},null,8,["checked"])]),_:1})):R("",!0),d(O).SNOWY_SYS_DEFAULT_ALLOW_REGISTER_FLAG_FOR_C?(o(),S(c,{key:1,label:"注册后是否需要绑定邮箱：",name:"SNOWY_SYS_DEFAULT_REGISTER_NEED_BIND_EMAIL_FOR_C"},{default:t(()=>[r(l,{checked:d(O).SNOWY_SYS_DEFAULT_REGISTER_NEED_BIND_EMAIL_FOR_C,"onUpdate:checked":a[2]||(a[2]=_=>d(O).SNOWY_SYS_DEFAULT_REGISTER_NEED_BIND_EMAIL_FOR_C=_),"checked-children":"是","un-checked-children":"否",placeholder:"请选择注册后是否需要绑定邮箱"},null,8,["checked"])]),_:1})):R("",!0),r(c,null,{default:t(()=>[r(f,{type:"primary",loading:d(F),onClick:a[3]||(a[3]=_=>{i.value.validate().then(()=>{F.value=!0;let _=E(O.value);const a=Object.entries(_).map(_=>({configKey:_[0],configValue:_[1]}));e.configEditForm(a).then(()=>{}).finally(()=>{F.value=!1})}).catch(()=>{})})},{default:t(()=>a[5]||(a[5]=[s("保存")])),_:1},8,["loading"]),r(f,{class:"xn-ml10",onClick:a[4]||(a[4]=()=>d(i).resetFields())},{default:t(()=>a[6]||(a[6]=[s("重置")])),_:1})]),_:1})]),_:1},8,["model","label-col","wrapper-col"])]),_:1},8,["spinning"])}}});export{O as default};
