import{_ as e}from"./index-yhO5Pkur.js";import a from"./preview-C-d8gYlD.js";import{r as l}from"./formRules-B2bzcXv4.js";import{d as t,f as n,a1 as o,U as s,V as u,k as i,a2 as r,u as f,Y as c,G as m,F as d}from"./vue-vendor-BzDj5Url.js";import"./index-DcffTgQN.js";import"./ant-design-vendor-CRFwT3Wn.js";const v={style:{display:"flex"}},p=t({name:"emailTemplateSetting"}),y=Object.assign(p,{emits:{successful:null},setup(t,{expose:p,emit:y}){const j=n(!1),_=n(),b=n(),g=y,x=n({}),k=n(""),w={subject:[l("请输入邮件主题")],content:[l("请输入邮件模板内容")]},O=()=>{x.value={},k.value="",j.value=!1},R=()=>{_.value.validate().then(e=>{const a=k.value,l=JSON.stringify(e);g("successful",[{configKey:a,configValue:l}]),O()})};return p({onOpen:e=>{j.value=!0,x.value=JSON.parse(e.configValue),k.value=e.configKey}}),(l,t)=>{const n=o("a-input"),p=o("a-form-item"),y=o("EyeOutlined"),g=o("a-button"),k=o("a-textarea"),C=o("a-form"),h=e;return u(),s(d,null,[i(h,{title:"模板设置",width:800,open:f(j),"destroy-on-close":!0,onClose:O},{footer:r(()=>[i(g,{class:"xn-mr8",onClick:O},{default:r(()=>t[5]||(t[5]=[m("关闭")])),_:1}),i(g,{type:"primary",onClick:R},{default:r(()=>t[6]||(t[6]=[m("保存")])),_:1})]),default:r(()=>[i(C,{ref_key:"formRef",ref:_,model:f(x),rules:w,layout:"vertical"},{default:r(()=>[i(p,{label:"主题：",name:"subject"},{default:r(()=>[i(n,{value:f(x).subject,"onUpdate:value":t[0]||(t[0]=e=>f(x).subject=e)},null,8,["value"])]),_:1}),i(p,{name:"content"},{label:r(()=>[c("div",v,[t[4]||(t[4]=c("div",null,"内容模板：",-1)),c("div",null,[i(g,{size:"small",onClick:t[1]||(t[1]=e=>f(b).onOpen(f(x).content))},{default:r(()=>[i(y),t[3]||(t[3]=m(" 预览 "))]),_:1})])])]),default:r(()=>[i(k,{value:f(x).content,"onUpdate:value":t[2]||(t[2]=e=>f(x).content=e),placeholder:"请输入邮件模板","allow-clear":"","auto-size":{minRows:20,maxRows:20}},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["open"]),i(a,{ref_key:"emailPreviewRef",ref:b},null,512)],64)}}});export{y as default};
