import{_ as e}from"./index-r8v7tfQO.js";import{_ as a,m as t}from"./form-BgQo0Bt8.js";import{d as l,f as o,a1 as r,U as n,V as s,k as d,a2 as i,u as c,G as u,a6 as f,Z as m,a7 as p,Y as h,F as y}from"./vue-vendor-BzDj5Url.js";import"./ant-design-vendor-CRFwT3Wn.js";import"./index-yhO5Pkur.js";import"./index-DcffTgQN.js";import"./index-ssHdgZ9Y.js";import"./formRules-B2bzcXv4.js";import"./iconSelector-BS7wf_Ak.js";const _=["onClick"],v=l({name:"sysModule"}),b=Object.assign(v,{setup(l){const v=o({}),b=o(),g=o(),k=o(),x={refresh:!0,height:!0,columnSetting:!1,striped:!1},w=[{title:"显示名称",dataIndex:"title"},{title:"图标",dataIndex:"icon"},{title:"排序",dataIndex:"sortCode",sorter:!0},{title:"创建时间",dataIndex:"createTime",sorter:!0},{title:"操作",dataIndex:"action",align:"center",width:"200px"}];let C=o([]);const j={alert:{show:!1,clear:()=>{C=o([])}},rowSelection:{onChange:(e,a)=>{C.value=e}}},I=e=>t.modulePage(Object.assign(e,v.value)).then(e=>e),R=()=>{g.value.resetFields(),k.value.refresh(!0)},S=e=>{t.moduleDelete(e).then(()=>{k.value.clearRefreshSelected()})};return(l,o)=>{const K=r("a-input"),O=r("a-form-item"),D=r("a-col"),F=r("a-button"),B=r("a-row"),U=r("a-form"),z=r("a-card"),G=r("plus-outlined"),M=e,N=r("a-space"),P=r("a-tag"),T=r("a-divider"),V=r("a-popconfirm"),Y=r("s-table");return s(),n(y,null,[d(z,{bordered:!1,"body-style":{"padding-bottom":"0px"},class:"mb-2"},{default:i(()=>[d(U,{ref_key:"searchFormRef",ref:g,name:"advanced_search",model:c(v),class:"ant-advanced-search-form"},{default:i(()=>[d(B,{gutter:24},{default:i(()=>[d(D,{span:8},{default:i(()=>[d(O,{label:"名称关键词",name:"searchKey"},{default:i(()=>[d(K,{value:c(v).searchKey,"onUpdate:value":o[0]||(o[0]=e=>c(v).searchKey=e),placeholder:"请输入模块名称关键词"},null,8,["value"])]),_:1})]),_:1}),d(D,{span:8},{default:i(()=>[d(F,{type:"primary",onClick:o[1]||(o[1]=e=>c(k).refresh(!0))},{default:i(()=>o[4]||(o[4]=[u("查询")])),_:1}),d(F,{class:"xn-mg08",onClick:R},{default:i(()=>o[5]||(o[5]=[u("重置")])),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),d(z,{bordered:!1},{default:i(()=>[d(Y,{ref_key:"tableRef",ref:k,columns:w,data:I,alert:j.alert.show,bordered:"","row-key":e=>e.id,"tool-config":x,"row-selection":j.rowSelection},{operator:i(()=>[d(N,null,{default:i(()=>[d(F,{type:"primary",onClick:o[2]||(o[2]=e=>c(b).onOpen())},{icon:i(()=>[d(G)]),default:i(()=>[o[6]||(o[6]=u(" 新增模块 "))]),_:1}),d(M,{buttonName:"批量删除",icon:"DeleteOutlined",buttonDanger:"",selectedRowKeys:c(C),onBatchCallBack:S},null,8,["selectedRowKeys"])]),_:1})]),bodyCell:i(({column:e,record:a})=>["icon"===e.dataIndex?(s(),f(P,{key:0,color:a.color},{default:i(()=>[(s(),f(p(a.icon)))]),_:2},1032,["color"])):m("",!0),"action"===e.dataIndex?(s(),f(N,{key:1},{default:i(()=>[h("a",{onClick:e=>c(b).onOpen(a)},"编辑",8,_),d(T,{type:"vertical"}),d(V,{title:"确定要删除此模块吗？",onConfirm:e=>(e=>{let a=[{id:e.id}];t.moduleDelete(a).then(()=>{k.value.refresh(!0)})})(a)},{default:i(()=>[d(F,{type:"link",danger:"",size:"small"},{default:i(()=>o[7]||(o[7]=[u("删除")])),_:1})]),_:2},1032,["onConfirm"])]),_:2},1024)):m("",!0)]),_:1},8,["alert","row-key","row-selection"])]),_:1}),d(a,{ref_key:"formRef",ref:b,onSuccessful:o[3]||(o[3]=e=>c(k).refresh(!0))},null,512)],64)}}});export{b as default};
