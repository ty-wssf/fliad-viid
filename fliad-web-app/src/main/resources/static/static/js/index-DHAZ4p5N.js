import e from"./form-C250OSaj.js";import{c as t}from"./configApi-BMiyCPj3.js";import{d as a,f as o,a1 as n,U as r,V as l,k as s,a2 as i,a6 as d,Z as c,Y as u,u as f,G as p,F as m}from"./vue-vendor-BzDj5Url.js";import"./index-yhO5Pkur.js";import"./index-DcffTgQN.js";import"./ant-design-vendor-CRFwT3Wn.js";import"./formRules-B2bzcXv4.js";const y=["onClick"],h=a({name:"sysModule"}),k=Object.assign(h,{setup(a){const h=o({}),k=o(),g=o(),v={refresh:!0,height:!0,columnSetting:!1,striped:!1},j=[{title:"配置键",dataIndex:"configKey",ellipsis:!0},{title:"配置值",dataIndex:"configValue",ellipsis:!0},{title:"备注",dataIndex:"remark"},{title:"排序",dataIndex:"sortCode",width:100,sorter:!0},{title:"操作",key:"action",width:"200px",scopedSlots:{customRender:"action"}}],b=e=>t.configPage(Object.assign(e,h.value)).then(e=>e);return(a,o)=>{const x=n("plus-outlined"),C=n("a-button"),_=n("a-input-search"),w=n("a-space"),I=n("a-divider"),O=n("a-popconfirm"),R=n("s-table");return l(),r(m,null,[s(R,{ref_key:"tableRef",ref:g,columns:j,data:b,alert:!1,bordered:"","row-key":e=>e.id,"tool-config":v},{operator:i(()=>[s(w,null,{default:i(()=>[s(C,{type:"primary",onClick:o[0]||(o[0]=e=>f(k).onOpen())},{icon:i(()=>[s(x)]),default:i(()=>[o[4]||(o[4]=u("span",null,"新增配置",-1))]),_:1}),s(_,{value:f(h).searchKey,"onUpdate:value":o[1]||(o[1]=e=>f(h).searchKey=e),placeholder:"请输入关键词","enter-button":"",allowClear:"",onSearch:o[2]||(o[2]=e=>f(g).refresh(!0))},null,8,["value"])]),_:1})]),bodyCell:i(({column:e,record:a})=>["action"===e.key?(l(),d(w,{key:0},{default:i(()=>[u("a",{onClick:e=>f(k).onOpen(a)},"编辑",8,y),s(I,{type:"vertical"}),s(O,{title:"确定要删除此配置吗？",onConfirm:e=>(e=>{let a=[{id:e.id}];t.configDelete(a).then(()=>{g.value.refresh(!0)})})(a)},{default:i(()=>[s(C,{type:"link",danger:"",size:"small"},{default:i(()=>o[5]||(o[5]=[p("删除")])),_:1})]),_:2},1032,["onConfirm"])]),_:2},1024)):c("",!0)]),_:1},8,["row-key"]),s(e,{ref_key:"formRef",ref:k,onSuccessful:o[3]||(o[3]=e=>f(g).refresh(!0))},null,512)],64)}}});export{k as default};
