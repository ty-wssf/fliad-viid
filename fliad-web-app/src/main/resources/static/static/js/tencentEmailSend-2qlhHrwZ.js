import{_ as e}from"./index-CwPjjw4u.js";import{r as a}from"./formRules-B2bzcXv4.js";import{e as l}from"./emailApi-D7gkWVWt.js";import{f as n}from"./fileApi-DnApfrPK.js";import{k as t}from"./ant-design-vendor-CRFwT3Wn.js";import{d as o,f as u,a1 as d,a6 as s,V as c,a2 as r,k as m,Z as i,H as p,u as v,G as f}from"./vue-vendor-BzDj5Url.js";import"./editor-vendor-gXJG3n-p.js";import"./index-DOuUB9GF.js";import"./index-DcffTgQN.js";const T=o({name:"tencentEmailSend"}),h=Object.assign(T,{emits:{loadingStart:null,loadingEnd:null},setup(o,{expose:T,emit:h}){const U=u("TXT"),_=h,b=u(),g=u({}),j={sendAccount:[a("请输入发件人邮箱，即管理控制台中配置的发信地址")],receiveAccounts:[a("请输入接收人邮箱，多个逗号拼接")],subject:[a("请输入邮件主题")],templateName:[a("请输入预先创建且通过审核的模板名称")],content:[a("请输入邮件正文")]},y={fileUploadApi:e=>n.fileUploadDynamicReturnUrl(e).then(e=>Promise.resolve(e))};return T({send:()=>{b.value.validate().then(()=>{_("loadingStart"),"TXT"===U.value&&l.emailSendTencentTxt(g.value).then(()=>{t.success("发送成功")}).finally(()=>{_("loadingEnd")}),"HTML"===U.value&&l.emailSendTencentHtml(g.value).then(()=>{t.success("发送成功")}).finally(()=>{_("loadingEnd")}),"TMP"===U.value&&l.emailSendTencentTmp(g.value).then(()=>{t.success("发送成功")}).finally(()=>{_("loadingEnd")})}).catch(()=>{})}}),(a,l)=>{const n=d("a-radio"),t=d("a-radio-group"),o=d("a-form-item"),u=d("a-input"),T=d("a-textarea"),h=d("a-form");return c(),s(h,{ref_key:"formRef",ref:b,model:v(g),rules:j,layout:"vertical"},{default:r(()=>[m(o,{label:"发送方式：",name:"sendType"},{default:r(()=>[m(t,{value:v(U),"onUpdate:value":l[0]||(l[0]=e=>p(U)?U.value=e:null)},{default:r(()=>[m(n,{value:"TXT"},{default:r(()=>l[9]||(l[9]=[f("纯文本")])),_:1}),m(n,{value:"HTML"},{default:r(()=>l[10]||(l[10]=[f("HTML")])),_:1}),m(n,{value:"TMP"},{default:r(()=>l[11]||(l[11]=[f("模板邮件")])),_:1})]),_:1},8,["value"])]),_:1}),m(o,{label:"发件人邮箱：",name:"sendAccount"},{default:r(()=>[m(u,{value:v(g).sendAccount,"onUpdate:value":l[1]||(l[1]=e=>v(g).sendAccount=e),placeholder:"请输入管理控制台中配置的发信地址"},null,8,["value"])]),_:1}),m(o,{label:"接收人邮箱：",name:"receiveAccounts"},{default:r(()=>[m(T,{value:v(g).receiveAccounts,"onUpdate:value":l[2]||(l[2]=e=>v(g).receiveAccounts=e),placeholder:"TMP"!==v(U)?"请输入接收人邮箱，多个逗号拼接":"预先创建且上传了收件人的收件人列表名称","auto-size":{minRows:2,maxRows:5}},null,8,["value","placeholder"])]),_:1}),"TMP"!==v(U)?(c(),s(o,{key:0,label:"邮件主题：",name:"subject"},{default:r(()=>[m(u,{value:v(g).subject,"onUpdate:value":l[3]||(l[3]=e=>v(g).subject=e),placeholder:"请输入邮件主题","allow-clear":""},null,8,["value"])]),_:1})):i("",!0),"TXT"===v(U)?(c(),s(o,{key:1,label:"邮件正文",name:"content"},{default:r(()=>[m(T,{value:v(g).content,"onUpdate:value":l[4]||(l[4]=e=>v(g).content=e),placeholder:"请输入邮件正文","auto-size":{minRows:6,maxRows:6}},null,8,["value"])]),_:1})):i("",!0),"HTML"===v(U)?(c(),s(o,{key:2,label:"邮件正文",name:"content"},{default:r(()=>[m(e,{modelValue:v(g).content,"onUpdate:modelValue":l[5]||(l[5]=e=>v(g).content=e),placeholder:"请输入邮件正文",height:200,"file-upload-function":y.fileUploadApi},null,8,["modelValue","file-upload-function"])]),_:1})):i("",!0),"TMP"===v(U)?(c(),s(o,{key:3,label:"模板名：",name:"templateName"},{default:r(()=>[m(u,{value:v(g).templateName,"onUpdate:value":l[6]||(l[6]=e=>v(g).templateName=e),placeholder:"请输入预先创建且通过审核的模板名称","allow-clear":""},null,8,["value"])]),_:1})):i("",!0),"TMP"===v(U)?(c(),s(o,{key:4,label:"标签名：",name:"tagName"},{default:r(()=>[m(u,{value:v(g).tagName,"onUpdate:value":l[7]||(l[7]=e=>v(g).tagName=e),placeholder:"请输入标签名","allow-clear":""},null,8,["value"])]),_:1})):i("",!0),"TMP"!==v(U)?(c(),s(o,{key:5,label:"发件人昵称：",name:"sendUser"},{default:r(()=>[m(u,{value:v(g).sendUser,"onUpdate:value":l[8]||(l[8]=e=>v(g).sendUser=e),placeholder:"设置发件人昵称","allow-clear":""},null,8,["value"])]),_:1})):i("",!0)]),_:1},8,["model"])}}});export{h as default};
