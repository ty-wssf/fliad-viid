import{r as a}from"./formRules-B2bzcXv4.js";import{c as e}from"./configApi-BMiyCPj3.js";import{k as l,b as n}from"./ant-design-vendor-CRFwT3Wn.js";import{d as o,f as _,a1 as t,a6 as s,V as O,a2 as r,k as L,u as i,G as u}from"./vue-vendor-BzDj5Url.js";import"./index-DcffTgQN.js";const f=o({name:"localFileForm"}),c=Object.assign(f,{setup(o){const f=_(),c=_({}),F=_(!1),p=_(!0);e.configList({category:"FILE_LOCAL"}).then(a=>{p.value=!1,a?a.forEach(a=>{c.value[a.configKey]=a.configValue}):l.warning("表单项不存在，请初始化数据库")});const d={SNOWY_FILE_LOCAL_FOLDER_FOR_WINDOWS:[a("请输入WINDOWS存储位置")],SNOWY_FILE_LOCAL_FOLDER_FOR_UNIX:[a("请输入LINUX存储位置")]},m={span:4},I={span:12};return(a,l)=>{const o=t("a-input"),_=t("a-form-item"),N=t("a-button"),W=t("a-form"),E=t("a-spin");return O(),s(E,{spinning:i(p)},{default:r(()=>[L(W,{ref_key:"formRef",ref:f,model:i(c),rules:d,layout:"vertical","label-col":{...m,offset:0},"wrapper-col":{...I,offset:0}},{default:r(()=>[L(_,{label:"WINDOWS存储位置：",name:"SNOWY_FILE_LOCAL_FOLDER_FOR_WINDOWS"},{default:r(()=>[L(o,{value:i(c).SNOWY_FILE_LOCAL_FOLDER_FOR_WINDOWS,"onUpdate:value":l[0]||(l[0]=a=>i(c).SNOWY_FILE_LOCAL_FOLDER_FOR_WINDOWS=a),placeholder:"请输入WINDOWS存储位置"},null,8,["value"])]),_:1}),L(_,{label:"LINUX存储位置：",name:"SNOWY_FILE_LOCAL_FOLDER_FOR_UNIX"},{default:r(()=>[L(o,{value:i(c).SNOWY_FILE_LOCAL_FOLDER_FOR_UNIX,"onUpdate:value":l[1]||(l[1]=a=>i(c).SNOWY_FILE_LOCAL_FOLDER_FOR_UNIX=a),placeholder:"请输入LINUX存储位置"},null,8,["value"])]),_:1}),L(_,null,{default:r(()=>[L(N,{type:"primary",loading:i(F),onClick:l[2]||(l[2]=a=>{f.value.validate().then(()=>{F.value=!0;let a=n(c.value);const l=Object.entries(a).map(a=>({configKey:a[0],configValue:a[1]}));e.configEditForm(l).then(()=>{}).finally(()=>{F.value=!1})}).catch(()=>{})})},{default:r(()=>l[4]||(l[4]=[u("保存")])),_:1},8,["loading"]),L(N,{class:"xn-ml10",onClick:l[3]||(l[3]=()=>i(f).resetFields())},{default:r(()=>l[5]||(l[5]=[u("重置")])),_:1})]),_:1})]),_:1},8,["model","label-col","wrapper-col"])]),_:1},8,["spinning"])}}});export{c as default};
