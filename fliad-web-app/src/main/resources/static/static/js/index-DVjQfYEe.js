import{_ as e}from"./index-r8v7tfQO.js";import{_ as a,v as t}from"./form-Bz09C_Pm.js";import{i}from"./index-DcffTgQN.js";import{k as n}from"./ant-design-vendor-CRFwT3Wn.js";import{d as r,r as l,f as o,a1 as s,U as d,V as u,k as m,a2 as c,u as f,G as v,a6 as p,Z as k,a3 as h,F as y}from"./vue-vendor-BzDj5Url.js";import"./formRules-B2bzcXv4.js";const _=["onClick"],C=r({name:"viidHikvisionCamera"}),b=Object.assign(C,{setup(r){let C=l({});const b=o(),g=o(),x=o(),I={refresh:!0,height:!0,columnSetting:!0,striped:!1},S=[{title:"设备名称",dataIndex:"name"},{title:"IP地址",dataIndex:"ipAddr"},{title:"端口",dataIndex:"port"},{title:"用户名",dataIndex:"username"},{title:"启用状态",dataIndex:"enableStatus"},{title:"在线状态",dataIndex:"onlineStatus"},{title:"创建时间",dataIndex:"createTime"}];i(["viidHikvisionCameraEdit","viidHikvisionCameraDelete"])&&S.push({title:"操作",dataIndex:"action",align:"center",width:"150px"});let w=o([]);const H={alert:{show:!1,clear:()=>{w=o([])}},rowSelection:{onChange:(e,a)=>{w.value=e}}},P=e=>{const a=JSON.parse(JSON.stringify(C));return t.viidHikvisionCameraPage(Object.assign(e,a)).then(e=>e)},j=e=>{const a=e.map(e=>({id:e}));t.viidHikvisionCameraDelete(a).then(()=>{g.value.refresh(!0),n.success("删除成功")})};return(i,r)=>{const l=s("a-input"),o=s("a-form-item"),D=s("a-col"),O=s("a-button"),A=s("a-row"),R=s("a-form"),N=s("plus-outlined"),B=e,E=s("a-space"),F=s("a-tag"),U=s("a-divider"),J=s("a-popconfirm"),K=s("s-table"),z=s("a-card");return u(),d(y,null,[m(z,{bordered:!1},{default:c(()=>[m(R,{ref_key:"searchFormRef",ref:b,name:"advanced_search",model:f(C),class:"ant-advanced-search-form mb-4"},{default:c(()=>[m(A,{gutter:24},{default:c(()=>[m(D,{span:6},{default:c(()=>[m(o,{label:"设备名称",name:"name"},{default:c(()=>[m(l,{value:f(C).name,"onUpdate:value":r[0]||(r[0]=e=>f(C).name=e),placeholder:"请输入设备名称"},null,8,["value"])]),_:1})]),_:1}),m(D,{span:6},{default:c(()=>[m(o,{label:"IP地址",name:"ipAddr"},{default:c(()=>[m(l,{value:f(C).ipAddr,"onUpdate:value":r[1]||(r[1]=e=>f(C).ipAddr=e),placeholder:"请输入IP地址"},null,8,["value"])]),_:1})]),_:1}),m(D,{span:6},{default:c(()=>[m(O,{type:"primary",onClick:r[2]||(r[2]=e=>f(g).refresh(!0))},{default:c(()=>r[6]||(r[6]=[v("查询")])),_:1}),m(O,{style:{margin:"0 8px"},onClick:r[3]||(r[3]=()=>f(b).resetFields())},{default:c(()=>r[7]||(r[7]=[v("重置")])),_:1})]),_:1})]),_:1})]),_:1},8,["model"]),m(K,{ref_key:"table",ref:g,columns:S,data:P,alert:H.alert.show,bordered:"","row-key":e=>e.id,"tool-config":I,"row-selection":H.rowSelection},{operator:c(()=>[m(E,null,{default:c(()=>[i.hasPerm("viidHikvisionCameraAdd")?(u(),p(O,{key:0,type:"primary",onClick:r[4]||(r[4]=e=>f(x).onOpen())},{icon:c(()=>[m(N)]),default:c(()=>[r[8]||(r[8]=v(" 新增 "))]),_:1})):k("",!0),i.hasPerm("viidHikvisionCameraBatchDelete")?(u(),p(B,{key:1,buttonName:"批量删除",icon:"DeleteOutlined",selectedRowKeys:f(w),onBatchCallBack:j},null,8,["selectedRowKeys"])):k("",!0)]),_:1})]),bodyCell:c(({column:e,record:a})=>["enableStatus"===e.dataIndex?(u(),p(F,{key:0,color:1===a.enableStatus?"green":"red"},{default:c(()=>[v(h(1===a.enableStatus?"启用":"禁用"),1)]),_:2},1032,["color"])):k("",!0),"onlineStatus"===e.dataIndex?(u(),p(F,{key:1,color:1===a.onlineStatus?"green":"red"},{default:c(()=>[v(h(1===a.onlineStatus?"在线":"离线"),1)]),_:2},1032,["color"])):k("",!0),"action"===e.dataIndex?(u(),d(y,{key:2},[i.hasPerm("viidHikvisionCameraEdit")?(u(),d("a",{key:0,onClick:e=>f(x).onOpen(a)},"编辑",8,_)):k("",!0),i.hasPerm(["viidHikvisionCameraEdit","viidHikvisionCameraDelete"],"and")?(u(),p(U,{key:1,type:"vertical"})):k("",!0),m(J,{title:"确定要删除吗？",onConfirm:e=>(e=>{const a={id:e.id};t.viidHikvisionCameraDelete([a]).then(()=>{g.value.refresh(!0),n.success("删除成功")})})(a)},{default:c(()=>[i.hasPerm("viidHikvisionCameraDelete")?(u(),p(O,{key:0,type:"link",danger:"",size:"small"},{default:c(()=>r[9]||(r[9]=[v("删除")])),_:1})):k("",!0)]),_:2},1032,["onConfirm"])],64)):k("",!0)]),_:1},8,["alert","row-key","row-selection"])]),_:1}),m(a,{ref_key:"formRef",ref:x,onSuccessful:r[5]||(r[5]=e=>f(g).refresh(!0))},null,512)],64)}}});export{b as default};
