import{_ as e}from"./index-r8v7tfQO.js";import{_ as a,v as t}from"./form-CHBTAS3Y.js";import{i as l}from"./index-DcffTgQN.js";import{k as o}from"./ant-design-vendor-CRFwT3Wn.js";import{d as n,r,f as d,a1 as i,U as s,V as u,k as c,a2 as m,u as f,G as g,a6 as p,Z as v,a3 as h,F as y}from"./vue-vendor-BzDj5Url.js";import"./formRules-B2bzcXv4.js";const k=["onClick"],I=n({name:"viidTollgate"}),_=Object.assign(I,{setup(n){let I=r({});const _=d(),x=d(),T=d(),w={refresh:!0,height:!0,columnSetting:!0,striped:!1},D=[{title:"卡口ID",dataIndex:"TollgateID"},{title:"卡口名称",dataIndex:"Name"},{title:"经度",dataIndex:"Longitude"},{title:"纬度",dataIndex:"Latitude"},{title:"行政区划代码",dataIndex:"PlaceCode"},{title:"位置",dataIndex:"Place"},{title:"卡口状态",dataIndex:"Status"},{title:"卡口类型",dataIndex:"TollgateCat"},{title:"卡口用途",dataIndex:"TollgateUsage"},{title:"车道数",dataIndex:"LaneNum"}];l(["viidTollgateEdit","viidTollgateDelete"])&&D.push({title:"操作",dataIndex:"action",align:"center",width:"150px"});let S=d([]);const C={alert:{show:!1,clear:()=>{S=d([])}},rowSelection:{onChange:(e,a)=>{S.value=e}}},b=e=>{const a=JSON.parse(JSON.stringify(I));return t.viidTollgatePage(Object.assign(e,a)).then(e=>e)},j=()=>{if(S.value.length<1)return o.warning("请选择一条或多条数据"),!1;const e=S.value.map(e=>({ID:e}));t.viidTollgateDelete(e).then(()=>{x.value.clearRefreshSelected()})};return(l,o)=>{const n=i("a-input"),r=i("a-form-item"),d=i("a-col"),N=i("a-button"),P=i("a-row"),O=i("a-form"),U=i("plus-outlined"),R=e,B=i("a-space"),E=i("a-tag"),F=i("a-divider"),L=i("a-popconfirm"),J=i("s-table"),K=i("a-card");return u(),s(y,null,[c(K,{bordered:!1},{default:m(()=>[c(O,{ref_key:"searchFormRef",ref:_,name:"advanced_search",model:f(I),class:"ant-advanced-search-form mb-4"},{default:m(()=>[c(P,{gutter:24},{default:m(()=>[c(d,{span:6},{default:m(()=>[c(r,{label:"卡口名称",name:"Name"},{default:m(()=>[c(n,{value:f(I).Name,"onUpdate:value":o[0]||(o[0]=e=>f(I).Name=e),placeholder:"请输入卡口名称"},null,8,["value"])]),_:1})]),_:1}),c(d,{span:6},{default:m(()=>[c(N,{type:"primary",onClick:o[1]||(o[1]=e=>f(x).refresh(!0))},{default:m(()=>o[5]||(o[5]=[g("查询")])),_:1}),c(N,{style:{margin:"0 8px"},onClick:o[2]||(o[2]=()=>f(_).resetFields())},{default:m(()=>o[6]||(o[6]=[g("重置")])),_:1})]),_:1})]),_:1})]),_:1},8,["model"]),c(J,{ref_key:"table",ref:x,columns:D,data:b,alert:C.alert.show,bordered:"","row-key":e=>e.ID,"tool-config":w,"row-selection":C.rowSelection},{operator:m(()=>[c(B,null,{default:m(()=>[l.hasPerm("viidTollgateAdd")?(u(),p(N,{key:0,type:"primary",onClick:o[3]||(o[3]=e=>f(T).onOpen())},{icon:m(()=>[c(U)]),default:m(()=>[o[7]||(o[7]=g(" 新增 "))]),_:1})):v("",!0),l.hasPerm("viidTollgateBatchDelete")?(u(),p(R,{key:1,buttonName:"批量删除",icon:"DeleteOutlined",selectedRowKeys:f(S),onBatchCallBack:j},null,8,["selectedRowKeys"])):v("",!0)]),_:1})]),bodyCell:m(({column:e,record:a})=>["Status"===e.dataIndex?(u(),p(E,{key:0,color:1===a.Status?"green":2===a.Status?"red":"orange"},{default:m(()=>[g(h(1===a.Status?"正常":2===a.Status?"停用":"其他"),1)]),_:2},1032,["color"])):v("",!0),"TollgateUsage"===e.dataIndex?(u(),s(y,{key:1},[g(h(80===a.TollgateUsage?"治安卡口":81===a.TollgateUsage?"交通卡口":"其他"),1)],64)):v("",!0),"action"===e.dataIndex?(u(),s(y,{key:2},[l.hasPerm("viidTollgateEdit")?(u(),s("a",{key:0,onClick:e=>f(T).onOpen(a)},"编辑",8,k)):v("",!0),l.hasPerm(["viidTollgateEdit","viidTollgateDelete"],"and")?(u(),p(F,{key:1,type:"vertical"})):v("",!0),c(L,{title:"确定要删除吗？",onConfirm:e=>(e=>{let a=[{ID:e.ID}];t.viidTollgateDelete(a).then(()=>{x.value.refresh(!0)})})(a)},{default:m(()=>[l.hasPerm("viidTollgateDelete")?(u(),p(N,{key:0,type:"link",danger:"",size:"small"},{default:m(()=>o[8]||(o[8]=[g("删除")])),_:1})):v("",!0)]),_:2},1032,["onConfirm"])],64)):v("",!0)]),_:1},8,["alert","row-key","row-selection"])]),_:1}),c(a,{ref_key:"formRef",ref:T,onSuccessful:o[4]||(o[4]=e=>f(x).refresh(!0))},null,512)],64)}}});export{_ as default};
