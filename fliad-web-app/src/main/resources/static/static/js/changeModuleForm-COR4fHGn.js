import{_ as e}from"./index-yhO5Pkur.js";import{r as a}from"./formRules-B2bzcXv4.js";import{m as l}from"./menuApi-DZDEix35.js";import{d as s,f as t,a1 as o,a6 as u,V as n,a2 as d,k as i,u as r,Z as m,Y as f,a3 as v,U as c,F as p,W as y,G as _,a7 as b}from"./vue-vendor-BzDj5Url.js";import"./index-DcffTgQN.js";import"./ant-design-vendor-CRFwT3Wn.js";const g=s({name:"sysResourceMenuChangeModuleForm"}),j=Object.assign(g,{emits:{successful:null},setup(s,{expose:g,emit:j}){const h=t(!1),k=j,x=t(),C=t({}),F=t(!1),M=t([]),O=()=>{x.value.resetFields(),h.value=!1},R={module:[a("请选择所属目录")]},U=()=>{x.value.validate().then(()=>{const e={id:C.value.id,module:C.value.module};F.value=!0,l.menuChangeModule(e).then(()=>{F.value=!1,k("successful")}).finally(()=>{h.value=!1})}).catch(()=>{})};return g({onOpen:e=>{h.value=!0,e&&(C.value=Object.assign({},e)),l.menuModuleSelector().then(e=>{M.value=e})}}),(a,l)=>{const s=o("a-form-item"),t=o("a-radio-button"),g=o("a-radio-group"),j=o("a-form"),k=o("a-button"),w=e;return n(),u(w,{title:"更改模块",width:550,visible:r(h),"destroy-on-close":!0,onClose:O},{footer:d(()=>[i(k,{class:"xn-mr8",onClick:O},{default:d(()=>l[1]||(l[1]=[_("关闭")])),_:1}),i(k,{type:"primary",loading:r(F),onClick:U},{default:d(()=>l[2]||(l[2]=[_("保存")])),_:1},8,["loading"])]),default:d(()=>[i(j,{ref_key:"formRef",ref:x,model:r(C),rules:R,layout:"vertical"},{default:d(()=>[i(s,{label:"显示名称：",name:"title"},{default:d(()=>[f("span",null,v(r(C).title),1)]),_:1}),"0"===r(C).parentId?(n(),u(s,{key:0,label:"所属目录：",name:"module"},{default:d(()=>[i(g,{value:r(C).module,"onUpdate:value":l[0]||(l[0]=e=>r(C).module=e),"button-style":"solid"},{default:d(()=>[(n(!0),c(p,null,y(r(M),e=>(n(),u(t,{key:e.id,value:e.id},{default:d(()=>[(n(),u(b(e.icon))),_(" "+v(e.title),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1})):m("",!0)]),_:1},8,["model"])]),_:1},8,["visible"])}}});export{j as default};
