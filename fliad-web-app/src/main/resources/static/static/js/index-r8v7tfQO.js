import{k as e}from"./ant-design-vendor-CRFwT3Wn.js";import{d as t,f as n,a1 as a,U as o,V as l,k as i,a2 as s,a8 as d,G as r,a3 as u,a6 as c,a7 as p,_ as y,u as g}from"./vue-vendor-BzDj5Url.js";const f={key:0},m={key:1},b=t({name:"commonBatchButton"}),v=Object.assign(b,{props:{idKey:{type:String,default:()=>"id"},buttonName:{type:String,default:()=>"批量操作"},buttonDanger:{type:Boolean,default:()=>!1},buttonType:{type:String,default:()=>{}},icon:{type:String,default:()=>{}},size:{type:String,default:()=>"middle"},selectedRowKeys:{type:Array,default:()=>[]},color:{type:String,default:()=>""},isPopconFirm:{type:Boolean,default:()=>!0},loading:{type:Boolean,default:()=>!1}},emits:{batchCallBack:null},setup(t,{emit:b}){const v=n(!1),k=b,z=t,B=()=>v.value?(v.value=!1,!1):z.selectedRowKeys.length<1?(e.warning("请选择一条或多条数据"),v.value=!1,!1):(v.value=!0,!0),h=()=>{if(!z.isPopconFirm&&z.selectedRowKeys.length<1)return e.warning("请选择一条或多条数据"),v.value=!1,!1;const t=z.selectedRowKeys.map(e=>({[z.idKey]:e}));k("batchCallBack",t)};return(e,n)=>{const b=a("a-button"),k=a("a-popconfirm");return t.isPopconFirm?(l(),o("div",f,[i(k,{title:"批量处理此信息？",open:g(v),onOpenChange:B,onConfirm:h},{default:s(()=>[i(b,{type:z.buttonType,danger:z.buttonDanger,size:z.size,loading:t.loading},d({default:s(()=>[r(" "+u(z.buttonName),1)]),_:2},[z.icon?{name:"icon",fn:s(()=>[(l(),c(p(z.icon),{style:y({color:z.color})},null,8,["style"]))]),key:"0"}:void 0]),1032,["type","danger","size","loading"])]),_:1},8,["open"])])):(l(),o("div",m,[i(b,{type:z.buttonType,danger:z.buttonDanger,size:z.size,loading:t.loading,onClick:h},d({default:s(()=>[r(" "+u(z.buttonName),1)]),_:2},[z.icon?{name:"icon",fn:s(()=>[(l(),c(p(z.icon),{style:y({color:z.color})},null,8,["style"]))]),key:"0"}:void 0]),1032,["type","danger","size","loading"])]))}}});export{v as _};
