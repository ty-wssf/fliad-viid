import{r as e}from"./formRules-B2bzcXv4.js";import{h as l}from"./index-DcffTgQN.js";import{f as a,a1 as t,a6 as o,V as u,a2 as n,k as s,u as r,H as d}from"./vue-vendor-BzDj5Url.js";const i=(e,...a)=>l("/mobile/button/"+e,...a),m={mobileButtonPage:e=>i("page",e,"get"),mobileButtonSubmitForm:(e,l=!1)=>i(l?"edit":"add",e),mobileButtonDelete:e=>i("delete",e),mobileButtonDetail:e=>i("detail",e,"get")},c={__name:"form",emits:{successful:null},setup(l,{expose:i,emit:c}){const v=a(!1),f=c,p=a(),b=a({}),_=a(),g=()=>{p.value.resetFields(),v.value=!1},h={title:[e("请输入按钮名称")],code:[e("请输入按钮编码")]},j=()=>{p.value.validate().then(()=>{const e={category:"BUTTON",parentId:_.value.id},l=Object.assign(e,b.value);m.mobileButtonSubmitForm(l,b.value.id).then(()=>{g(),f("successful")})}).catch(()=>{})};return i({onOpen:(e,l)=>{v.value=!0,_.value=e,b.value={sortCode:99},l&&(b.value=Object.assign({},l))}}),(e,l)=>{const a=t("a-input"),i=t("a-form-item"),m=t("a-input-number"),c=t("a-form"),f=t("a-modal");return u(),o(f,{open:r(v),"onUpdate:open":l[3]||(l[3]=e=>d(v)?v.value=e:null),title:r(b).id?"编辑按钮":"增加按钮",width:550,"mask-closable":!1,"destroy-on-close":!0,onOk:j,onCancel:g},{default:n(()=>[s(c,{ref_key:"formRef",ref:p,model:r(b),rules:h,layout:"vertical"},{default:n(()=>[s(i,{label:"显示名称：",name:"title"},{default:n(()=>[s(a,{value:r(b).title,"onUpdate:value":l[0]||(l[0]=e=>r(b).title=e),placeholder:"请输入显示名称","allow-clear":""},null,8,["value"])]),_:1}),s(i,{label:"编码：",name:"code"},{default:n(()=>[s(a,{value:r(b).code,"onUpdate:value":l[1]||(l[1]=e=>r(b).code=e),placeholder:"请输入按钮编码","allow-clear":""},null,8,["value"])]),_:1}),s(i,{label:"排序:",name:"sortCode"},{default:n(()=>[s(m,{class:"xn-wd",value:r(b).sortCode,"onUpdate:value":l[2]||(l[2]=e=>r(b).sortCode=e),max:100,min:0},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["open","title"])}}},v=Object.freeze(Object.defineProperty({__proto__:null,default:c},Symbol.toStringTag,{value:"Module"}));export{c as _,m as b,v as f};
