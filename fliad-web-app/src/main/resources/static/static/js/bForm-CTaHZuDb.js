import{_ as e}from"./index-yCCQKvno.js";import{_ as a,c as l}from"./index-DcffTgQN.js";import{w as t,k as n,y as o,b as i}from"./ant-design-vendor-CRFwT3Wn.js";import{d as r,f as d,a4 as s,w as u,a1 as c,U as _,V as p,Z as v,k as f,a6 as g,F as h,W as y,a2 as S,G as E,a3 as m,u as O,X as R,H as A,Y as k}from"./vue-vendor-BzDj5Url.js";import{r as L}from"./formRules-B2bzcXv4.js";import{c as T}from"./configApi-BMiyCPj3.js";const F={key:0},I={key:0},N={class:"table-operator xn-mb10"},Y={class:"selector-table"},B={key:0,class:"xn-fdr"},U={class:"mt-2"},b={class:"selector-table"},W={key:0,class:"xn-fdr"},D=r({name:"positionSelector"}),w=a(Object.assign(D,{props:{radioModel:{type:Boolean,default:()=>!1},dataIsConverterFlw:{type:Boolean,default:()=>!1},orgTreeApi:{type:Function},positionPageApi:{type:Function},positionListByIdListApi:{type:Function},value:{default:()=>""},dataType:{type:String,default:()=>"array"},show:{type:Boolean,default:()=>!0},addShow:{type:Boolean,default:()=>!0}},emits:["update:value","onBack"],setup(e,{expose:a,emit:r}){const L=d(!1),T=[{title:"操作",dataIndex:"action",align:"center",width:50},{title:"名称",dataIndex:"name",ellipsis:!0},{title:"分类",dataIndex:"category"}],D=[{title:"操作",dataIndex:"action",align:"center",width:50},{title:"名称",dataIndex:"name",ellipsis:!0}],w=e,C=d(),P=d(),x=d(),G=d({}),z=d(),M=d(!0),K=d(!1),j=d(!1),H=s(),$={children:"children",title:"name",key:"id"},V=d(),J=d([]),X=r,Z=d([]),q=d([]),Q=d([]),ee=d(0),ae=d(10),le=d(0),te=e=>"function"==typeof w.positionListByIdListApi?w.positionListByIdListApi(e):l.userCenterGetPositionListByIdList(e).then(e=>Promise.resolve(e)),ne=()=>{if("function"!=typeof w.orgTreeApi||"function"!=typeof w.positionPageApi)return void n.warning("未配置职位选择器API");if(L.value=!0,(e=>"function"==typeof w.orgTreeApi?w.orgTreeApi(e):(n.warning("未配置机构树API"),Promise.resolve([])))().then(e=>{t(e)||(V.value=e,V.value.forEach(e=>{"0"===e.parentId&&(J.value.push(e.id),e.children&&e.children.forEach(e=>{J.value.push(e.id)}))}))}).finally(()=>{M.value=!1}),G.value.size=ae.value,oe(),t(Q.value))return;const e={idList:Q.value};j.value=!0,te(e).then(e=>{q.value=e}).finally(()=>{j.value=!1})},oe=()=>{var e;K.value=!0,(e=G.value,"function"==typeof w.positionPageApi?w.positionPageApi(e):(n.warning("未配置职位选择器API"),Promise.resolve([]))).then(e=>{ee.value=e.current,le.value=e.total,Z.value=[],x.value=0,Z.value=e.records,e.records?x.value=e.records.length:x.value=0}).finally(()=>{K.value=!1})},ie=(e,a)=>{G.value.current=e,G.value.size=a,oe()},re=e=>{if(w.radioModel&&q.value.length>0)return void n.warning("只可选择一条");0===q.value.filter(a=>a.id===e.id).length?q.value.push(e):n.warning("该记录已存在")},de=()=>{let e=q.value.concat(Z.value),a=[];for(let l of e){let e=!0;for(let t of a)l.id===t.id&&(e=!1);e&&a.push(l)}q.value=a},se=()=>{q.value=[]},ue=e=>{G.value.current=0,e.length>0?G.value.orgId=e.toString():delete G.value.orgId,oe()},ce=d([]),_e=()=>{ce.value=[];const e=[],a=[];q.value.forEach(l=>{const t={id:l.id,name:l.name};e.push(l.id);const n=i(t);a.push(n)}),ce.value=a;const l=fe(e);X("update:value",l),X("onBack",l),pe()},pe=()=>{G.value={},x.value=0,Z.value=[],ee.value=0,ae.value=20,le.value=0,q.value=[],L.value=!1},ve=e=>{if(w.dataIsConverterFlw){const a=[];if(t(e.value)){if(!t(e)&&!t(e[0])&&!t(e[0].value)){const l=e[0].value.split(",");for(let e=0;e<l.length;e++)a.push(l[e])}}else{const l=e.value.split(",");l.length>0?l.forEach(e=>{a.push(e)}):a.push(e.value)}return a}if("string"!==ge())return e;if(e.length>1){const a=[];return e.split(",").forEach(e=>{a.push(e)}),a}return e},fe=e=>{if(w.dataIsConverterFlw){e=ce.value;const a={};let l="",t="";for(let n=0;n<e.length;n++)e.length===n+1?(l+=e[n].name,t+=e[n].id):(l=l+e[n].name+",",t=t+e[n].id+",");return a.key="POSITION",a.label=l,a.value=t,a.extJson="",a}{if("string"!==ge())return e;let a="";return e.forEach(e=>{a=a+","+e}),a=a.substring(1,a.length),a}},ge=()=>w.dataType?w.dataType:w.radioModel?"string":typeof typeof w.value,he=e=>{if(t(ce.value)&&!t(e)){const e={idList:Q.value};te(e).then(e=>{ce.value=e})}};return u(()=>w.value,e=>{if(t(w.value))ce.value=[],q.value=[];else{const a=ve(e);Q.value=a,he(a)}},{immediate:!0}),a({showModel:(e=[])=>{const a=ve(e);Q.value=a,he(a),ne()}}),(a,l)=>{const n=c("a-tag"),r=c("plus-outlined"),d=c("a-button"),s=c("a-tree"),u=c("a-card"),te=c("a-col"),ve=c("a-input"),ge=c("a-form-item"),he=c("a-row"),ye=c("a-form"),Se=c("PlusOutlined"),Ee=c("a-table"),me=c("a-pagination"),Oe=c("MinusOutlined"),Re=c("a-modal");return p(),_(h,null,[w.show?(p(),_("div",F,[(p(!0),_(h,null,y(O(ce),e=>(p(),g(n,{closable:"",onClose:a=>(e=>{o(ce.value,a=>a.id===e.id),o(Q.value,a=>a===e.id);const a=[],l=[];ce.value.forEach(e=>{const t={id:e.id,name:e.name};a.push(e.id);const n=i(t);l.push(n)}),ce.value=l;const t=fe(a);X("update:value",t),X("onBack",t)})(e),key:e.id,class:"mb-1"},{default:S(()=>[E(m(e.name),1)]),_:2},1032,["onClose"]))),128)),w.radioModel&&1===O(ce).length||!e.addShow?v("",!0):(p(),g(d,{key:0,type:"primary",size:"small",onClick:ne},{default:S(()=>{return[R(a.$slots,"button",{},void 0,!0),(e="button",H[e]&&H[e]().length>0?v("",!0):(p(),_("span",I,[f(r),l[7]||(l[7]=E(" 选择 "))])))];var e}),_:3}))])):v("",!0),f(Re,{open:O(L),"onUpdate:open":l[6]||(l[6]=e=>A(L)?L.value=e:null),title:"职位选择",width:1e3,"mask-closable":!1,"destroy-on-close":!0,onOk:_e,onCancel:pe},{default:S(()=>[f(he,{gutter:10},{default:S(()=>[f(te,{span:7},{default:S(()=>[f(u,{size:"small",loading:O(M),class:"selectorTreeDiv"},{default:S(()=>[O(V)?(p(),g(s,{key:0,expandedKeys:O(J),"onUpdate:expandedKeys":l[0]||(l[0]=e=>A(J)?J.value=e:null),"tree-data":O(V),"field-names":$,onSelect:ue},null,8,["expandedKeys","tree-data"])):v("",!0)]),_:1},8,["loading"])]),_:1}),f(te,{span:11},{default:S(()=>[k("div",N,[f(ye,{ref_key:"searchFormRef",ref:z,name:"advanced_search",class:"ant-advanced-search-form",model:O(G)},{default:S(()=>[f(he,{gutter:24},{default:S(()=>[f(te,{span:12},{default:S(()=>[f(ge,{name:"searchKey"},{default:S(()=>[f(ve,{value:O(G).searchKey,"onUpdate:value":l[1]||(l[1]=e=>O(G).searchKey=e),placeholder:"请输入职位名"},null,8,["value"])]),_:1})]),_:1}),f(te,{span:12},{default:S(()=>[f(d,{type:"primary",class:"xn-mr-10",onClick:l[2]||(l[2]=e=>oe())},{default:S(()=>l[8]||(l[8]=[E(" 查询 ")])),_:1}),f(d,{onClick:l[3]||(l[3]=e=>(delete G.value.searchKey,void oe()))},{default:S(()=>l[9]||(l[9]=[E(" 重置 ")])),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),k("div",Y,[f(Ee,{ref_key:"tableRef",ref:C,size:"small",columns:T,"data-source":O(Z),"expand-row-by-click":!0,loading:O(K),bordered:"",pagination:!1},{title:S(()=>[k("span",null,"待选择列表 "+m(O(x))+" 条",1),e.radioModel?v("",!0):(p(),_("div",B,[f(d,{type:"dashed",size:"small",onClick:de},{default:S(()=>l[10]||(l[10]=[E("添加当前数据")])),_:1})]))]),bodyCell:S(({column:e,record:l})=>["action"===e.dataIndex?(p(),g(d,{key:0,type:"dashed",size:"small",onClick:e=>re(l)},{default:S(()=>[f(Se)]),_:2},1032,["onClick"])):v("",!0),"category"===e.dataIndex?(p(),_(h,{key:1},[E(m(a.$TOOL.dictTypeData("POSITION_CATEGORY",l.category)),1)],64)):v("",!0)]),_:1},8,["data-source","loading"]),k("div",U,[O(t)(O(Z))?v("",!0):(p(),g(me,{key:0,current:O(ee),"onUpdate:current":l[4]||(l[4]=e=>A(ee)?ee.value=e:null),"page-size":O(ae),"onUpdate:pageSize":l[5]||(l[5]=e=>A(ae)?ae.value=e:null),total:O(le),size:"small",showSizeChanger:"",onChange:ie},null,8,["current","page-size","total"]))])])]),_:1}),f(te,{span:6},{default:S(()=>[k("div",b,[f(Ee,{ref_key:"selectedTable",ref:P,size:"small",columns:D,"data-source":O(q),"expand-row-by-click":!0,loading:O(j),bordered:""},{title:S(()=>[k("span",null,"已选择: "+m(O(q).length),1),e.radioModel?v("",!0):(p(),_("div",W,[f(d,{type:"dashed",danger:"",size:"small",onClick:se},{default:S(()=>l[11]||(l[11]=[E("全部移除")])),_:1})]))]),bodyCell:S(({column:e,record:a})=>["action"===e.dataIndex?(p(),g(d,{key:0,type:"dashed",danger:"",size:"small",onClick:e=>(e=>{o(q.value,a=>a.id===e.id)})(a)},{default:S(()=>[f(Oe)]),_:2},1032,["onClick"])):v("",!0)]),_:1},8,["data-source","loading"])])]),_:1})]),_:1})]),_:1},8,["open"])],64)}}}),[["__scopeId","data-v-7d279f43"]]),C={key:0},P={key:0},x={class:"table-operator xn-mb10"},G={class:"selector-table"},z={key:0,class:"xn-fdr"},M={class:"mt-2"},K={class:"selector-table"},j={key:0,class:"xn-fdr"},H=r({name:"orgSelector"}),$=a(Object.assign(H,{props:{radioModel:{type:Boolean,default:()=>!1},dataIsConverterFlw:{type:Boolean,default:()=>!1},selectorConverterKey:{type:String,default:()=>"ORG"},orgTreeApi:{type:Function},orgPageApi:{type:Function},orgListByIdListApi:{type:Function},value:{default:()=>""},dataType:{type:String,default:()=>"array"},show:{type:Boolean,default:()=>!0},addShow:{type:Boolean,default:()=>!0}},emits:["update:value","onBack"],setup(e,{expose:a,emit:r}){const L=d(!1),T=[{title:"操作",dataIndex:"action",align:"center",width:50},{title:"名称",dataIndex:"name",ellipsis:!0},{title:"分类",dataIndex:"category"}],F=[{title:"操作",dataIndex:"action",align:"center",width:50},{title:"名称",dataIndex:"name",ellipsis:!0}],I=e,N=d(),Y=d(),B=d(),U=d({}),b=d(),W=d(!0),D=d(!1),w=d(!1),H=s(),$={children:"children",title:"name",key:"id"},V=d(),J=d([]),X=r,Z=d([]),q=d([]),Q=d([]),ee=d(0),ae=d(10),le=d(0),te=e=>"function"==typeof I.orgListByIdListApi?I.orgListByIdListApi(e):l.userCenterGetOrgListByIdList(e).then(e=>Promise.resolve(e)),ne=()=>{if("function"!=typeof I.orgTreeApi||"function"!=typeof I.orgPageApi)return void n.warning("未配置机构选择器API");if(L.value=!0,(e=>"function"==typeof I.orgTreeApi?I.orgTreeApi(e):(n.warning("未配置机构树API"),Promise.resolve([])))().then(e=>{t(e)||(V.value=e,V.value.forEach(e=>{"0"===e.parentId&&(J.value.push(e.id),e.children&&e.children.forEach(e=>{J.value.push(e.id)}))}))}).finally(()=>{W.value=!1}),U.value.size=ae.value,oe(),t(Q.value))return;const e={idList:Q.value};w.value=!0,te(e).then(e=>{q.value=e}).finally(()=>{w.value=!1})},oe=()=>{var e;D.value=!0,(e=U.value,"function"==typeof I.orgPageApi?I.orgPageApi(e):(n.warning("未配置机构选择器API"),Promise.resolve([]))).then(e=>{ee.value=e.current,le.value=e.total,Z.value=[],B.value=0,Z.value=e.records,e.records?B.value=e.records.length:B.value=0}).finally(()=>{D.value=!1})},ie=(e,a)=>{U.value.current=e,U.value.size=a,oe()},re=e=>{if(I.radioModel&&q.value.length>0)return void n.warning("只可选择一条");0===q.value.filter(a=>a.id===e.id).length?q.value.push(e):n.warning("该记录已存在")},de=()=>{let e=q.value.concat(Z.value),a=[];for(let l of e){let e=!0;for(let t of a)l.id===t.id&&(e=!1);e&&a.push(l)}q.value=a},se=()=>{q.value=[]},ue=e=>{U.value.current=0,e.length>0?U.value.parentId=e.toString():delete U.value.parentId,oe()},ce=d([]),_e=()=>{ce.value=[];const e=[],a=[];q.value.forEach(l=>{const t={id:l.id,name:l.name};e.push(l.id);const n=i(t);a.push(n)}),ce.value=a;const l=fe(e);X("update:value",l),X("onBack",l),pe()},pe=()=>{U.value={},B.value=0,Z.value=[],ee.value=0,ae.value=20,le.value=0,q.value=[],L.value=!1},ve=e=>{if(I.dataIsConverterFlw){const a=[];if(t(e.value)){if(!t(e)&&!t(e[0])&&!t(e[0].value)){const l=e[0].value.split(",");for(let e=0;e<l.length;e++)a.push(l[e])}}else{const l=e.value.split(",");l.length>0?l.forEach(e=>{a.push(e)}):a.push(e.value)}return a}if("string"!==ge())return e;if(e.length>1){const a=[];return e.split(",").forEach(e=>{a.push(e)}),a}return e},fe=e=>{if(I.dataIsConverterFlw){e=ce.value;const a={};let l="",t="";for(let n=0;n<e.length;n++)e.length===n+1?(l+=e[n].name,t+=e[n].id):(l=l+e[n].name+",",t=t+e[n].id+",");return a.key=I.selectorConverterKey,a.label=l,a.value=t,a.extJson="",a}{if("string"!==ge())return e;let a="";return e.forEach(e=>{a=a+","+e}),a=a.substring(1,a.length),a}},ge=()=>I.dataType?I.dataType:I.radioModel?"string":typeof typeof I.value,he=e=>{if(t(ce.value)&&!t(e)){const e={idList:Q.value};te(e).then(e=>{ce.value=e})}};return u(()=>I.value,e=>{if(t(I.value))ce.value=[],q.value=[];else{const a=ve(e);Q.value=a,he(a)}},{immediate:!0}),a({showModel:(e=[])=>{const a=ve(e);Q.value=a,he(a),ne()}}),(a,l)=>{const n=c("a-tag"),r=c("plus-outlined"),d=c("a-button"),s=c("a-tree"),u=c("a-card"),te=c("a-col"),ve=c("a-input"),ge=c("a-form-item"),he=c("a-row"),ye=c("a-form"),Se=c("PlusOutlined"),Ee=c("a-table"),me=c("a-pagination"),Oe=c("MinusOutlined"),Re=c("a-modal");return p(),_(h,null,[I.show?(p(),_("div",C,[(p(!0),_(h,null,y(O(ce),e=>(p(),g(n,{closable:"",onClose:a=>(e=>{o(ce.value,a=>a.id===e.id),o(Q.value,a=>a===e.id);const a=[],l=[];ce.value.forEach(e=>{const t={id:e.id,name:e.name};a.push(e.id);const n=i(t);l.push(n)}),ce.value=l;const t=fe(a);X("update:value",t),X("onBack",t)})(e),key:e.id,class:"mb-1"},{default:S(()=>[E(m(e.name),1)]),_:2},1032,["onClose"]))),128)),I.radioModel&&1===O(ce).length||!e.addShow?v("",!0):(p(),g(d,{key:0,type:"primary",size:"small",onClick:ne},{default:S(()=>{return[R(a.$slots,"button",{},void 0,!0),(e="button",H[e]&&H[e]().length>0?v("",!0):(p(),_("span",P,[f(r),l[7]||(l[7]=E(" 选择 "))])))];var e}),_:3}))])):v("",!0),f(Re,{open:O(L),"onUpdate:open":l[6]||(l[6]=e=>A(L)?L.value=e:null),title:"机构选择",width:1e3,"mask-closable":!1,"destroy-on-close":!0,onOk:_e,onCancel:pe},{default:S(()=>[f(he,{gutter:10},{default:S(()=>[f(te,{span:7},{default:S(()=>[f(u,{size:"small",loading:O(W),class:"selectorTreeDiv"},{default:S(()=>[O(V)?(p(),g(s,{key:0,expandedKeys:O(J),"onUpdate:expandedKeys":l[0]||(l[0]=e=>A(J)?J.value=e:null),"tree-data":O(V),"field-names":$,onSelect:ue},null,8,["expandedKeys","tree-data"])):v("",!0)]),_:1},8,["loading"])]),_:1}),f(te,{span:11},{default:S(()=>[k("div",x,[f(ye,{ref_key:"searchFormRef",ref:b,name:"advanced_search",class:"ant-advanced-search-form",model:O(U)},{default:S(()=>[f(he,{gutter:24},{default:S(()=>[f(te,{span:12},{default:S(()=>[f(ge,{name:"searchKey"},{default:S(()=>[f(ve,{value:O(U).searchKey,"onUpdate:value":l[1]||(l[1]=e=>O(U).searchKey=e),placeholder:"请输入机构名"},null,8,["value"])]),_:1})]),_:1}),f(te,{span:12},{default:S(()=>[f(d,{type:"primary",class:"xn-mr-10",onClick:l[2]||(l[2]=e=>oe())},{default:S(()=>l[8]||(l[8]=[E(" 查询 ")])),_:1}),f(d,{onClick:l[3]||(l[3]=e=>(delete U.value.searchKey,void oe()))},{default:S(()=>l[9]||(l[9]=[E(" 重置 ")])),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),k("div",G,[f(Ee,{ref_key:"tableRef",ref:N,size:"small",columns:T,"data-source":O(Z),"expand-row-by-click":!0,loading:O(D),bordered:"",pagination:!1},{title:S(()=>[k("span",null,"待选择列表 "+m(O(B))+" 条",1),e.radioModel?v("",!0):(p(),_("div",z,[f(d,{type:"dashed",size:"small",onClick:de},{default:S(()=>l[10]||(l[10]=[E("添加当前数据")])),_:1})]))]),bodyCell:S(({column:e,record:l})=>["action"===e.dataIndex?(p(),g(d,{key:0,type:"dashed",size:"small",onClick:e=>re(l)},{default:S(()=>[f(Se)]),_:2},1032,["onClick"])):v("",!0),"category"===e.dataIndex?(p(),_(h,{key:1},[E(m(a.$TOOL.dictTypeData("ORG_CATEGORY",l.category)),1)],64)):v("",!0)]),_:1},8,["data-source","loading"]),k("div",M,[O(t)(O(Z))?v("",!0):(p(),g(me,{key:0,current:O(ee),"onUpdate:current":l[4]||(l[4]=e=>A(ee)?ee.value=e:null),"page-size":O(ae),"onUpdate:pageSize":l[5]||(l[5]=e=>A(ae)?ae.value=e:null),total:O(le),size:"small",showSizeChanger:"",onChange:ie},null,8,["current","page-size","total"]))])])]),_:1}),f(te,{span:6},{default:S(()=>[k("div",K,[f(Ee,{ref_key:"selectedTable",ref:Y,size:"small",columns:F,"data-source":O(q),"expand-row-by-click":!0,loading:O(w),bordered:""},{title:S(()=>[k("span",null,"已选择: "+m(O(q).length),1),e.radioModel?v("",!0):(p(),_("div",j,[f(d,{type:"dashed",danger:"",size:"small",onClick:se},{default:S(()=>l[11]||(l[11]=[E("全部移除")])),_:1})]))]),bodyCell:S(({column:e,record:a})=>["action"===e.dataIndex?(p(),g(d,{key:0,type:"dashed",danger:"",size:"small",onClick:e=>(e=>{o(q.value,a=>a.id===e.id)})(a)},{default:S(()=>[f(Oe)]),_:2},1032,["onClick"])):v("",!0)]),_:1},8,["data-source","loading"])])]),_:1})]),_:1})]),_:1},8,["open"])],64)}}}),[["__scopeId","data-v-fa6325e3"]]),V=r({name:"bForm"}),J=Object.assign(V,{setup(a){const l=d(),t=d({}),o=d(!1),r=d(!0);T.configList({category:"REGISTER_STRATEGY_FOR_B"}).then(e=>{r.value=!1,e?e.forEach(e=>{t.value[e.configKey]=s(e.configValue)}):n.warning("表单项不存在，请初始化数据库")});const s=e=>"true"===e||"false"===e?"true"===e:e,u={orgTreeApi:()=>T.configOrgTree().then(e=>Promise.resolve(e)),orgPageApi:e=>T.configOrgSelector(e).then(e=>Promise.resolve(e)),positionPageApi:e=>T.configPositionSelector(e).then(e=>Promise.resolve(e)),rolePageApi:e=>T.configRoleSelector(e).then(e=>Promise.resolve(e))},_={SNOWY_SYS_DEFAULT_ALLOW_REGISTER_FLAG_FOR_B:[L("请选择是否需要注册")],SNOWY_SYS_DEFAULT_REGISTER_NEED_BIND_PHONE_FOR_B:[L("请选择注册时是否需要绑定手机号")],SNOWY_SYS_DEFAULT_REGISTER_NEED_BIND_EMAIL_FOR_B:[L("请选择注册时是否需要绑定邮箱")],SNOWY_SYS_DEFAULT_NEW_USER_ORG_FOR_B:[L("请选择注册时新用户默认的机构")],SNOWY_SYS_DEFAULT_NEW_USER_ROLE_FOR_B:[L("请选择注册时新用户默认的角色")],SNOWY_SYS_DEFAULT_NEW_USER_POSITION_FOR_B:[L("请选择注册时新用户默认的职位")]},h={span:4},y={span:12};return(a,n)=>{const d=c("a-switch"),s=c("a-form-item"),m=$,R=w,A=e,k=c("a-button"),L=c("a-form"),F=c("a-spin");return p(),g(F,{spinning:O(r)},{default:S(()=>[f(L,{ref_key:"formRef",ref:l,model:O(t),rules:_,layout:"vertical","label-col":{...h,offset:0},"wrapper-col":{...y,offset:0}},{default:S(()=>[f(s,{label:"是否允许注册：",name:"SNOWY_SYS_DEFAULT_ALLOW_REGISTER_FLAG_FOR_B"},{default:S(()=>[f(d,{checked:O(t).SNOWY_SYS_DEFAULT_ALLOW_REGISTER_FLAG_FOR_B,"onUpdate:checked":n[0]||(n[0]=e=>O(t).SNOWY_SYS_DEFAULT_ALLOW_REGISTER_FLAG_FOR_B=e),"checked-children":"是","un-checked-children":"否",placeholder:"请选择是否允许注册"},null,8,["checked"])]),_:1}),O(t).SNOWY_SYS_DEFAULT_ALLOW_REGISTER_FLAG_FOR_B?(p(),g(s,{key:0,label:"注册后是否需要绑定手机号：",name:"SNOWY_SYS_DEFAULT_REGISTER_NEED_BIND_PHONE_FOR_B"},{default:S(()=>[f(d,{checked:O(t).SNOWY_SYS_DEFAULT_REGISTER_NEED_BIND_PHONE_FOR_B,"onUpdate:checked":n[1]||(n[1]=e=>O(t).SNOWY_SYS_DEFAULT_REGISTER_NEED_BIND_PHONE_FOR_B=e),"checked-children":"是","un-checked-children":"否",placeholder:"请选择注册后是否需要绑定手机号"},null,8,["checked"])]),_:1})):v("",!0),O(t).SNOWY_SYS_DEFAULT_ALLOW_REGISTER_FLAG_FOR_B?(p(),g(s,{key:1,label:"注册后是否需要绑定邮箱：",name:"SNOWY_SYS_DEFAULT_REGISTER_NEED_BIND_EMAIL_FOR_B"},{default:S(()=>[f(d,{checked:O(t).SNOWY_SYS_DEFAULT_REGISTER_NEED_BIND_EMAIL_FOR_B,"onUpdate:checked":n[2]||(n[2]=e=>O(t).SNOWY_SYS_DEFAULT_REGISTER_NEED_BIND_EMAIL_FOR_B=e),"checked-children":"是","un-checked-children":"否",placeholder:"请选择注册后是否需要绑定邮箱"},null,8,["checked"])]),_:1})):v("",!0),O(t).SNOWY_SYS_DEFAULT_ALLOW_REGISTER_FLAG_FOR_B?(p(),g(s,{key:2,label:"新用户默认机构：",name:"SNOWY_SYS_DEFAULT_NEW_USER_ORG_FOR_B"},{default:S(()=>[f(m,{"org-tree-api":u.orgTreeApi,"org-page-api":u.orgPageApi,radioModel:!0,dataType:"string",value:O(t).SNOWY_SYS_DEFAULT_NEW_USER_ORG_FOR_B,"onUpdate:value":n[3]||(n[3]=e=>O(t).SNOWY_SYS_DEFAULT_NEW_USER_ORG_FOR_B=e)},null,8,["org-tree-api","org-page-api","value"])]),_:1})):v("",!0),O(t).SNOWY_SYS_DEFAULT_ALLOW_REGISTER_FLAG_FOR_B?(p(),g(s,{key:3,label:"新用户默认职位：",name:"SNOWY_SYS_DEFAULT_NEW_USER_POSITION_FOR_B"},{default:S(()=>[f(R,{"org-tree-api":u.orgTreeApi,"position-page-api":u.positionPageApi,radioModel:!0,dataType:"string",value:O(t).SNOWY_SYS_DEFAULT_NEW_USER_POSITION_FOR_B,"onUpdate:value":n[4]||(n[4]=e=>O(t).SNOWY_SYS_DEFAULT_NEW_USER_POSITION_FOR_B=e)},null,8,["org-tree-api","position-page-api","value"])]),_:1})):v("",!0),O(t).SNOWY_SYS_DEFAULT_ALLOW_REGISTER_FLAG_FOR_B?(p(),g(s,{key:4,label:"新用户默认角色：",name:"SNOWY_SYS_DEFAULT_NEW_USER_ROLE_FOR_B"},{default:S(()=>[f(A,{"org-tree-api":u.orgTreeApi,"role-page-api":u.rolePageApi,radioModel:!0,dataType:"string",value:O(t).SNOWY_SYS_DEFAULT_NEW_USER_ROLE_FOR_B,"onUpdate:value":n[5]||(n[5]=e=>O(t).SNOWY_SYS_DEFAULT_NEW_USER_ROLE_FOR_B=e)},null,8,["org-tree-api","role-page-api","value"])]),_:1})):v("",!0),f(s,null,{default:S(()=>[f(k,{type:"primary",loading:O(o),onClick:n[6]||(n[6]=e=>{l.value.validate().then(()=>{o.value=!0;let e=i(t.value);const a=Object.entries(e).map(e=>({configKey:e[0],configValue:e[1]}));T.configEditForm(a).then(()=>{}).finally(()=>{o.value=!1})}).catch(()=>{})})},{default:S(()=>n[8]||(n[8]=[E("保存")])),_:1},8,["loading"]),f(k,{class:"xn-ml10",onClick:n[7]||(n[7]=()=>O(l).resetFields())},{default:S(()=>n[9]||(n[9]=[E("重置")])),_:1})]),_:1})]),_:1},8,["model","label-col","wrapper-col"])]),_:1},8,["spinning"])}}});export{J as default};
