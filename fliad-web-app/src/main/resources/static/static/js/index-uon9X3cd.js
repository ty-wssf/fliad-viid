import{_ as e}from"./index-yhO5Pkur.js";import{_ as t,b as o}from"./form-BcBIRWcS.js";import{f as n,a1 as a,U as l,V as r,k as s,a2 as i,Z as d,F as u,Y as c,u as p,G as m}from"./vue-vendor-BzDj5Url.js";import"./index-DcffTgQN.js";import"./ant-design-vendor-CRFwT3Wn.js";import"./formRules-B2bzcXv4.js";const f=["onClick"],y={__name:"index",setup(y,{expose:v}){const b=[{title:"名称",dataIndex:"title"},{title:"编码",dataIndex:"code"},{title:"排序",dataIndex:"sortCode",sorter:!0},{title:"操作",key:"action",align:"center",scopedSlots:{customRender:"action"}}],k={refresh:!0,height:!1,columnSetting:!1,striped:!1},_=n(!1),g=n(),x=n(),h=n(),C=n(),j=()=>{_.value=!1},O=e=>o.mobileButtonPage(Object.assign(e,g.value)).then(e=>e);return v({onOpen:e=>{h.value=e,g.value={parentId:e.id,category:"BUTTON"},_.value=!0}}),(n,y)=>{const v=a("plus-outlined"),g=a("a-button"),B=a("a-divider"),I=a("a-popconfirm"),S=a("s-table"),w=e;return r(),l(u,null,[s(w,{title:"按钮权限",width:700,visible:p(_),"destroy-on-close":!0,"body-style":{paddingBottom:"80px"},onClose:j},{default:i(()=>[s(S,{ref_key:"tableRef",ref:C,columns:b,data:O,alert:!1,"row-key":e=>e.id,"tool-config":k},{operator:i(()=>[s(g,{type:"primary",onClick:y[0]||(y[0]=e=>p(x).onOpen(p(h)))},{icon:i(()=>[s(v)]),default:i(()=>[y[2]||(y[2]=c("span",null,"新增按钮",-1))]),_:1})]),bodyCell:i(({column:e,record:t})=>["action"===e.key?(r(),l(u,{key:0},[c("a",{onClick:e=>p(x).onOpen(p(h),t)},"编辑",8,f),s(B,{type:"vertical"}),s(I,{title:"确定要删除此按钮吗？",onConfirm:e=>(e=>{let t=[{id:e.id}];o.mobileButtonDelete(t).then(e=>{C.value.refresh(!0)})})(t)},{default:i(()=>[s(g,{type:"link",danger:"",size:"small"},{default:i(()=>y[3]||(y[3]=[m("删除")])),_:1})]),_:2},1032,["onConfirm"])],64)):d("",!0)]),_:1},8,["row-key"])]),_:1},8,["visible"]),s(t,{ref_key:"buttonForm",ref:x,onSuccessful:y[1]||(y[1]=e=>p(C).refresh(!0))},null,512)],64)}}};export{y as default};
