import{r as e}from"./formRules-B2bzcXv4.js";import{c as E}from"./configApi-BMiyCPj3.js";import{k as a,b as l}from"./ant-design-vendor-CRFwT3Wn.js";import{d as _,f as n,a1 as N,a6 as o,V as t,a2 as T,k as u,u as s,G as r}from"./vue-vendor-BzDj5Url.js";import"./index-DcffTgQN.js";const i=_({name:"tencentFileForm"}),f=Object.assign(i,{setup(_){const i=n(),f=n({}),I=n(!1),C=n(!0);E.configList({category:"FILE_TENCENT"}).then(e=>{C.value=!1,e?e.forEach(e=>{f.value[e.configKey]=e.configValue}):a.warning("表单项不存在，请初始化数据库")});const c={SNOWY_FILE_TENCENT_SECRET_ID:[e("请输入腾讯云密钥ID")],SNOWY_FILE_TENCENT_SECRET_KEY:[e("请输入腾讯云密钥SECRET")],SNOWY_FILE_TENCENT_REGION_ID:[e("请输入腾讯云区域ID")],SNOWY_FILE_TENCENT_DEFAULT_BUCKET_NAME:[e("请输入腾讯云储存桶")]},d={span:4},p={span:12};return(e,a)=>{const _=N("a-input"),n=N("a-form-item"),S=N("a-button"),m=N("a-form"),F=N("a-spin");return t(),o(F,{spinning:s(C)},{default:T(()=>[u(m,{ref_key:"formRef",ref:i,model:s(f),rules:c,layout:"vertical","label-col":{...d,offset:0},"wrapper-col":{...p,offset:0}},{default:T(()=>[u(n,{label:"腾讯云密钥ID：",name:"SNOWY_FILE_TENCENT_SECRET_ID"},{default:T(()=>[u(_,{value:s(f).SNOWY_FILE_TENCENT_SECRET_ID,"onUpdate:value":a[0]||(a[0]=e=>s(f).SNOWY_FILE_TENCENT_SECRET_ID=e),placeholder:"请输入腾讯云密钥ID"},null,8,["value"])]),_:1}),u(n,{label:"腾讯云密钥SECRET：",name:"SNOWY_FILE_TENCENT_SECRET_KEY"},{default:T(()=>[u(_,{value:s(f).SNOWY_FILE_TENCENT_SECRET_KEY,"onUpdate:value":a[1]||(a[1]=e=>s(f).SNOWY_FILE_TENCENT_SECRET_KEY=e),placeholder:"请输入腾讯云密钥SECRET"},null,8,["value"])]),_:1}),u(n,{label:"腾讯云区域ID：",name:"SNOWY_FILE_TENCENT_REGION_ID"},{default:T(()=>[u(_,{value:s(f).SNOWY_FILE_TENCENT_REGION_ID,"onUpdate:value":a[2]||(a[2]=e=>s(f).SNOWY_FILE_TENCENT_REGION_ID=e),placeholder:"请输入腾讯云区域ID"},null,8,["value"])]),_:1}),u(n,{label:"腾讯云储存桶：",name:"SNOWY_FILE_TENCENT_DEFAULT_BUCKET_NAME"},{default:T(()=>[u(_,{value:s(f).SNOWY_FILE_TENCENT_DEFAULT_BUCKET_NAME,"onUpdate:value":a[3]||(a[3]=e=>s(f).SNOWY_FILE_TENCENT_DEFAULT_BUCKET_NAME=e),placeholder:"请输入腾讯云储存桶"},null,8,["value"])]),_:1}),u(n,null,{default:T(()=>[u(S,{type:"primary",loading:s(I),onClick:a[4]||(a[4]=e=>{i.value.validate().then(()=>{I.value=!0;let e=l(f.value);const a=Object.entries(e).map(e=>({configKey:e[0],configValue:e[1]}));E.configEditForm(a).then(()=>{}).finally(()=>{I.value=!1})}).catch(()=>{})})},{default:T(()=>a[6]||(a[6]=[r("保存")])),_:1},8,["loading"]),u(S,{class:"xn-ml10",onClick:a[5]||(a[5]=()=>s(i).resetFields())},{default:T(()=>a[7]||(a[7]=[r("重置")])),_:1})]),_:1})]),_:1},8,["model","label-col","wrapper-col"])]),_:1},8,["spinning"])}}});export{f as default};
