import{r as e}from"./formRules-B2bzcXv4.js";import{s as a}from"./smsApi-MYvfzOtT.js";import{k as l}from"./ant-design-vendor-CRFwT3Wn.js";import{d as t,f as o,a1 as s,a6 as n,V as m,a2 as u,k as r,u as d}from"./vue-vendor-BzDj5Url.js";import"./index-DcffTgQN.js";const i=t({name:"AliyunSmsSend"}),p=Object.assign(i,{emits:{loadingStart:null,loadingEnd:null},setup(t,{expose:i,emit:p}){const f=p,v=o(),c=o({}),h={phoneNumbers:[e("请输入手机号，多个逗号拼接")],templateCode:[e("请输入短信服务控制台配置且审核通过的模板编码")]};return i({send:()=>{v.value.validate().then(()=>{f("loadingStart"),a.smsSendAliyun(c.value).then(()=>{l.success("发送成功")}).catch(()=>{}).finally(()=>{f("loadingEnd")})}).catch(()=>{})}}),(e,a)=>{const l=s("a-textarea"),t=s("a-form-item"),o=s("a-input"),i=s("a-form");return m(),n(i,{ref_key:"formRef",ref:v,model:d(c),rules:h,layout:"vertical"},{default:u(()=>[r(t,{label:"手机号：",name:"phoneNumbers"},{default:u(()=>[r(l,{value:d(c).phoneNumbers,"onUpdate:value":a[0]||(a[0]=e=>d(c).phoneNumbers=e),placeholder:"请输入手机号，多个逗号拼接","auto-size":{minRows:2,maxRows:5}},null,8,["value"])]),_:1}),r(t,{label:"模板编码：",name:"templateCode"},{default:u(()=>[r(o,{value:d(c).templateCode,"onUpdate:value":a[1]||(a[1]=e=>d(c).templateCode=e),placeholder:"请输入短信服务控制台配置且审核通过的模板编码","allow-clear":""},null,8,["value"])]),_:1}),r(t,{label:"发送参数：",name:"templateParam"},{default:u(()=>[r(l,{value:d(c).templateParam,"onUpdate:value":a[2]||(a[2]=e=>d(c).templateParam=e),placeholder:"请输入短信模板变量对应的实际值，JSON格式","auto-size":{minRows:3,maxRows:5}},null,8,["value"])]),_:1}),r(t,{label:"短信签名：",name:"signName"},{default:u(()=>[r(o,{value:d(c).signName,"onUpdate:value":a[3]||(a[3]=e=>d(c).signName=e),placeholder:"请输入短信服务控制台配置且审核通过的短信签名","allow-clear":""},null,8,["value"])]),_:1})]),_:1},8,["model"])}}});export{p as default};
