import{_ as e,t as a}from"./index-DcffTgQN.js";import{w as t,b as l,y as d}from"./ant-design-vendor-CRFwT3Wn.js";import{d as o,f as s,w as u,a1 as r,a6 as i,V as n,a2 as c,k as p,u as h,Z as v}from"./vue-vendor-BzDj5Url.js";const f=o({name:"subForm"}),k=e(Object.assign(f,{props:{dataArray:{type:Object,default:[]},place:{type:Object,default:[]}},setup(e,{expose:o}){const f=s(),k=s([]),m=s(a.dictList("SKIP_MODE")),E=s(a.dictList("WHETHER_TO_CLICK")),y=e,b=s([{title:"位置",dataIndex:"label",width:"20%"},{title:"点击事件",dataIndex:"whetherToClick",width:"25%"},{title:"跳转方式",dataIndex:"skipMode",width:"20%"},{title:"URL",dataIndex:"url"}]),I=(e,a)=>e[a]?"success":"error",L=(e,a)=>{let t="";return a.forEach(a=>{e.some(e=>e===a)||(t=a)}),t};u(()=>y.place,(e,o)=>{!t(y.dataArray)&&t(k.value)?k.value=l(y.dataArray):"object"==typeof e&&(t(k.value)?e.forEach(e=>{const t={key:e,label:a.dictTypeData("DEV_SLIDESHOW_PLACE",e),whetherToClick:"DISABLE",skipMode:"URL",url:""};k.value.push(t)}):k.value.forEach(()=>{if(!e.some(e=>e===e.key)){if(k.value.length>e.length){const a=L(e,o);d(k.value,e=>e.key===a)}if(k.value.length<e.length){const t=L(o,e);if(!k.value.some(e=>e===t)){const e={key:t,label:a.dictTypeData("DEV_SLIDESHOW_PLACE",t),whetherToClick:"DISABLE",skipMode:"URL",url:""};k.value.push(e)}}}}))},{immediate:!0,deep:!0});return o({getData:()=>{if(t(k.value))return!1;{let e=!0;return k.value.forEach(a=>{"ENABLE"===a.whetherToClick&&t(a.url)&&(e=!1)}),!1!==e&&k.value}}}),(e,a)=>{const t=r("a-radio-group"),l=r("a-form-item"),d=r("a-select"),o=r("a-input"),s=r("a-table"),u=r("a-form");return n(),i(u,{model:h(k),ref_key:"formRef",ref:f,name:"basic",autocomplete:"off"},{default:c(()=>[p(s,{columns:h(b),dataSource:h(k),size:"middle"},{bodyCell:c(({text:e,record:a,index:s,column:u})=>["whetherToClick"===u.dataIndex?(n(),i(l,{key:0,"validate-status":I(a,"whetherToClick")},{default:c(()=>[p(t,{value:a.whetherToClick,"onUpdate:value":e=>a.whetherToClick=e,placeholder:"请选择跳转方式",options:h(E)},null,8,["value","onUpdate:value","options"])]),_:2},1032,["validate-status"])):v("",!0),"skipMode"===u.dataIndex?(n(),i(l,{key:1,"validate-status":I(a,"skipMode")},{default:c(()=>[p(d,{value:a.skipMode,"onUpdate:value":e=>a.skipMode=e,placeholder:"请选择跳转方式",disabled:"DISABLE"===a.whetherToClick,options:h(m)},null,8,["value","onUpdate:value","disabled","options"])]),_:2},1032,["validate-status"])):v("",!0),"url"===u.dataIndex?(n(),i(l,{key:2,"validate-status":I(a,"url")},{default:c(()=>[p(o,{value:h(k)[s].url,"onUpdate:value":e=>h(k)[s].url=e,disabled:"DISABLE"===a.whetherToClick,placeholder:"请输入URL或路由地址"},null,8,["value","onUpdate:value","disabled"])]),_:2},1032,["validate-status"])):v("",!0)]),_:1},8,["columns","dataSource"])]),_:1},8,["model"])}}}),[["__scopeId","data-v-4561a4ed"]]);export{k as default};
