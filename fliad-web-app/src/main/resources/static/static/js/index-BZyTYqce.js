import{_ as e}from"./index-r8v7tfQO.js";import{C as a,c as t}from"./form-DkG-OJsm.js";import{_ as l}from"./index-DcffTgQN.js";import{d as r,f as n,a1 as o,U as s,V as d,k as i,a2 as c,u,G as f,a6 as p,Z as m,F as h,a3 as y,Y as v}from"./vue-vendor-BzDj5Url.js";import"./ant-design-vendor-CRFwT3Wn.js";import"./index-yhO5Pkur.js";import"./formRules-B2bzcXv4.js";const _=["onClick"],x=r({name:"clientUser"}),g=l(Object.assign(x,{setup(l){const r=[{title:"头像",dataIndex:"avatar",align:"center",width:"80px"},{title:"账号",dataIndex:"account",ellipsis:!0},{title:"姓名",dataIndex:"name"},{title:"性别",dataIndex:"gender",width:100},{title:"手机",dataIndex:"phone",ellipsis:!0},{title:"状态",dataIndex:"userStatus",width:100},{title:"操作",dataIndex:"action",align:"center",width:"220px"}],x={refresh:!0,height:!0,columnSetting:!0},g=n(),k=n({}),w=n(null),b=n([]),C=n(null),I=e=>t.userPage(Object.assign(e,k.value)).then(e=>e),O=()=>{g.value.resetFields(),w.value.refresh(!0)},S={alert:{show:!1,clear:()=>{b.value=n([])}},rowSelection:{onChange:(e,a)=>{b.value=e}}},j=e=>{t.userDelete(e).then(()=>{w.value.clearRefreshSelected()})};return(l,n)=>{const R=o("a-input"),D=o("a-form-item"),T=o("a-col"),K=o("SearchOutlined"),U=o("a-button"),F=o("redo-outlined"),N=o("a-row"),B=o("a-form"),E=o("a-card"),G=o("plus-outlined"),L=e,M=o("a-space"),$=o("a-avatar"),z=o("a-divider"),A=o("a-popconfirm"),P=o("s-table");return d(),s("div",null,[i(E,{bordered:!1,style:{"margin-bottom":"10px"}},{default:c(()=>[i(B,{ref_key:"searchFormRef",ref:g,name:"advanced_search",class:"ant-advanced-search-form",model:u(k)},{default:c(()=>[i(N,{gutter:24},{default:c(()=>[i(T,{span:8},{default:c(()=>[i(D,{name:"searchKey",label:"用户关键词"},{default:c(()=>[i(R,{value:u(k).searchKey,"onUpdate:value":n[0]||(n[0]=e=>u(k).searchKey=e),placeholder:"请输入用户关键词"},null,8,["value"])]),_:1})]),_:1}),i(T,{span:8},{default:c(()=>[i(U,{type:"primary",onClick:n[1]||(n[1]=e=>u(w).refresh(!0))},{icon:c(()=>[i(K)]),default:c(()=>[n[4]||(n[4]=f(" 查询 "))]),_:1}),i(U,{class:"snowy-button-left",onClick:O},{icon:c(()=>[i(F)]),default:c(()=>[n[5]||(n[5]=f(" 重置 "))]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),i(E,{bordered:!1},{default:c(()=>[i(P,{ref_key:"tableRef",ref:w,columns:r,data:I,"expand-row-by-click":!0,bordered:"",alert:S.alert.show,"tool-config":x,"row-key":e=>e.id,"row-selection":S.rowSelection},{operator:c(()=>[i(M,null,{default:c(()=>[i(U,{type:"primary",onClick:n[2]||(n[2]=e=>u(C).onOpen())},{icon:c(()=>[i(G)]),default:c(()=>[n[6]||(n[6]=v("span",null,"新增用户",-1))]),_:1}),i(L,{buttonName:"批量删除",icon:"DeleteOutlined",buttonDanger:"",selectedRowKeys:u(b),onBatchCallBack:j},null,8,["selectedRowKeys"])]),_:1})]),bodyCell:c(({column:e,record:a})=>["avatar"===e.dataIndex?(d(),p($,{key:0,src:a.avatar,style:{"margin-bottom":"-5px","margin-top":"-5px"}},null,8,["src"])):m("",!0),"gender"===e.dataIndex?(d(),s(h,{key:1},[f(y(l.$TOOL.dictTypeData("GENDER",a.gender)),1)],64)):m("",!0),"userStatus"===e.dataIndex?(d(),s(h,{key:2},[f(y(l.$TOOL.dictTypeData("COMMON_STATUS",a.userStatus)),1)],64)):m("",!0),"action"===e.dataIndex?(d(),s(h,{key:3},[v("a",{onClick:e=>u(C).onOpen(a)},"编辑",8,_),i(z,{type:"vertical"}),i(A,{title:"确定要删除此用户吗",onConfirm:e=>(e=>{let a=[{id:e.id}];t.userDelete(a).then(()=>{w.value.refresh()})})(a)},{default:c(()=>[i(U,{type:"link",danger:"",size:"small"},{default:c(()=>n[7]||(n[7]=[f(" 删除 ")])),_:1})]),_:2},1032,["onConfirm"])],64)):m("",!0)]),_:1},8,["alert","row-key","row-selection"])]),_:1}),i(a,{ref_key:"clientUserFormRef",ref:C,onSuccessful:n[3]||(n[3]=e=>u(w).refresh())},null,512)])}}}),[["__scopeId","data-v-eac1f4af"]]);export{g as default};
