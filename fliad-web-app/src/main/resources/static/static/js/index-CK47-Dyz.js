import{_ as e}from"./index-yhO5Pkur.js";import{_ as t,b as o}from"./form-BfjD3unC.js";import{d as a,f as n,a1 as s,U as r,V as l,k as i,a2 as d,Z as u,F as c,Y as f,u as p,G as m}from"./vue-vendor-BzDj5Url.js";import"./index-DcffTgQN.js";import"./ant-design-vendor-CRFwT3Wn.js";import"./formRules-B2bzcXv4.js";const y=["onClick"],v=a({name:"sysResourceButton"}),b=Object.assign(v,{setup(a,{expose:v}){const b=[{title:"名称",dataIndex:"title"},{title:"编码",dataIndex:"code"},{title:"排序",dataIndex:"sortCode",sorter:!0},{title:"操作",key:"action",align:"center",scopedSlots:{customRender:"action"}}],k={refresh:!0,height:!1,columnSetting:!1,striped:!1},g=n(!1),_=n(),h=n(),j=n(),C=n(),x=()=>{g.value=!1},O=e=>o.buttonPage(Object.assign(e,_.value)).then(e=>e);return v({onOpen:e=>{j.value=e,_.value={parentId:e.id,category:"BUTTON"},g.value=!0}}),(a,n)=>{const v=s("plus-outlined"),_=s("a-button"),I=s("a-divider"),R=s("a-popconfirm"),w=s("s-table"),S=e;return l(),r(c,null,[i(S,{title:"按钮权限",width:700,visible:p(g),"destroy-on-close":!0,onClose:x},{default:d(()=>[i(w,{ref_key:"tableRef",ref:C,columns:b,data:O,alert:!1,"row-key":e=>e.id,"tool-config":k},{operator:d(()=>[i(_,{type:"primary",onClick:n[0]||(n[0]=e=>p(h).onOpen(p(j)))},{icon:d(()=>[i(v)]),default:d(()=>[n[2]||(n[2]=f("span",null,"新增按钮",-1))]),_:1})]),bodyCell:d(({column:e,record:t})=>["action"===e.key?(l(),r(c,{key:0},[f("a",{onClick:e=>p(h).onOpen(p(j),t)},"编辑",8,y),i(I,{type:"vertical"}),i(R,{title:"确定要删除此按钮吗？",onConfirm:e=>(e=>{let t=[{id:e.id}];o.buttonDelete(t).then(e=>{C.value.refresh(!0)})})(t)},{default:d(()=>[i(_,{type:"link",danger:"",size:"small"},{default:d(()=>n[3]||(n[3]=[m("删除")])),_:1})]),_:2},1032,["onConfirm"])],64)):u("",!0)]),_:1},8,["row-key"])]),_:1},8,["visible"]),i(t,{ref_key:"buttonForm",ref:h,onSuccessful:n[1]||(n[1]=e=>p(C).refresh(!0))},null,512)],64)}}});export{b as default};
