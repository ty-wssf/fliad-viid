import{r as e}from"./formRules-B2bzcXv4.js";import{s as a}from"./smsApi-MYvfzOtT.js";import{k as l}from"./ant-design-vendor-CRFwT3Wn.js";import{d as t,f as n,a1 as o,a6 as s,V as m,a2 as u,k as r,u as d}from"./vue-vendor-BzDj5Url.js";import"./index-DcffTgQN.js";const p=t({name:"TencentSmsSend"}),i=Object.assign(p,{emits:{loadingStart:null,loadingEnd:null},setup(t,{expose:p,emit:i}){const c=i;n(!1);const f=n(),v=n({}),h={phoneNumbers:[e("请输入手机号，多个逗号拼接")],templateCode:[e("请输入短信服务控制台配置且审核通过的模板编码")]};return p({send:()=>{f.value.validate().then(()=>{c("loadingStart"),a.smsSendTencent(v.value).then(()=>{l.success("发送成功")}).catch(()=>{}).finally(()=>{c("loadingEnd")})}).catch(()=>{})}}),(e,a)=>{const l=o("a-textarea"),t=o("a-form-item"),n=o("a-input"),p=o("a-form");return m(),s(p,{ref_key:"formRef",ref:f,model:d(v),rules:h,layout:"vertical"},{default:u(()=>[r(t,{label:"手机号：",name:"phoneNumbers"},{default:u(()=>[r(l,{value:d(v).phoneNumbers,"onUpdate:value":a[0]||(a[0]=e=>d(v).phoneNumbers=e),placeholder:"请输入手机号，多个逗号拼接","auto-size":{minRows:2,maxRows:5}},null,8,["value"])]),_:1}),r(t,{label:"模板编码：",name:"templateCode"},{default:u(()=>[r(n,{value:d(v).templateCode,"onUpdate:value":a[1]||(a[1]=e=>d(v).templateCode=e),placeholder:"请输入短信服务控制台配置且审核通过的模板编码","allow-clear":""},null,8,["value"])]),_:1}),r(t,{label:"发送参数：",name:"templateParam"},{default:u(()=>[r(l,{value:d(v).templateParam,"onUpdate:value":a[2]||(a[2]=e=>d(v).templateParam=e),placeholder:"请输入短信模板变量对应的顺序。支持传入多个参数，逗号拼接","auto-size":{minRows:3,maxRows:5}},null,8,["value"])]),_:1}),r(t,{label:"短信签名：",name:"signName"},{default:u(()=>[r(n,{value:d(v).signName,"onUpdate:value":a[3]||(a[3]=e=>d(v).signName=e),placeholder:"请输入短信签名","allow-clear":""},null,8,["value"])]),_:1})]),_:1},8,["model"])}}});export{i as default};
