import{_ as e}from"./index-yhO5Pkur.js";import{r as a}from"./formRules-B2bzcXv4.js";import{m as l}from"./menuApi-DbbBCSCl.js";import{f as o,a1 as t,a6 as u,V as s,a2 as n,k as i,u as d,Z as r,Y as m,a3 as f,U as v,F as c,W as p,G as _,a7 as b}from"./vue-vendor-BzDj5Url.js";import"./index-DcffTgQN.js";import"./ant-design-vendor-CRFwT3Wn.js";const y={__name:"changeModuleForm",emits:{successful:null},setup(y,{expose:g,emit:j}){const h=o(!1),k=j,x=o(),M=o({}),C=o(!1),F=o([]),A=()=>{x.value.resetFields(),h.value=!1},O={module:[a("请选择所属目录")]},R=()=>{x.value.validate().then(()=>{const e={id:M.value.id,module:M.value.module};C.value=!0,l.mobileMenuChangeModule(e).then(()=>{C.value=!1,k("successful")}).finally(()=>{h.value=!1})})};return g({onOpen:e=>{h.value=!0,e&&(M.value=Object.assign({},e)),l.mobileMenuModuleSelector().then(e=>{F.value=e})}}),(a,l)=>{const o=t("a-form-item"),y=t("a-radio-button"),g=t("a-radio-group"),j=t("a-form"),k=t("a-button"),U=e;return s(),u(U,{title:"更改模块",width:550,visible:d(h),"destroy-on-close":!0,onClose:A},{footer:n(()=>[i(k,{class:"xn-mr8",onClick:A},{default:n(()=>l[1]||(l[1]=[_("关闭")])),_:1}),i(k,{type:"primary",loading:d(C),onClick:R},{default:n(()=>l[2]||(l[2]=[_("保存")])),_:1},8,["loading"])]),default:n(()=>[i(j,{ref_key:"formRef",ref:x,model:d(M),rules:O,layout:"vertical"},{default:n(()=>[i(o,{label:"显示名称：",name:"title"},{default:n(()=>[m("span",null,f(d(M).title),1)]),_:1}),"0"===d(M).parentId?(s(),u(o,{key:0,label:"所属目录：",name:"module"},{default:n(()=>[i(g,{value:d(M).module,"onUpdate:value":l[0]||(l[0]=e=>d(M).module=e),"button-style":"solid"},{default:n(()=>[(s(!0),v(c,null,p(d(F),e=>(s(),u(y,{key:e.id,value:e.id},{default:n(()=>[(s(),u(b(e.icon))),_(" "+f(e.title),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1})):r("",!0)]),_:1},8,["model"])]),_:1},8,["visible"])}}};export{y as default};
