import{_ as e}from"./index-yhO5Pkur.js";import{r as a}from"./formRules-B2bzcXv4.js";import{c as l}from"./viidConfigApi-5ILUNM9-.js";import{f as o,a1 as t,a6 as u,V as s,a2 as n,k as r,u as i,G as d}from"./vue-vendor-BzDj5Url.js";import"./index-DcffTgQN.js";import"./ant-design-vendor-CRFwT3Wn.js";const m={__name:"form",emits:{successful:null},setup(m,{expose:f,emit:c}){const v=o(!1),p=c,g=o(),_=o({}),b=o(),y=()=>{g.value.resetFields(),v.value=!1},x={configKey:[a("请输入配置键")],configValue:[a("请输入配置值")],sortCode:[a("请滑动排序")]},C=()=>{g.value.validate().then(()=>{b.value=!0,l.submitForm(_.value,_.value.id).then(()=>{y(),p("successful")}).finally(()=>{b.value=!1})}).catch(()=>{})};return f({onOpen:e=>{v.value=!0,_.value={sortCode:99},e&&(_.value=Object.assign({},e))}}),(a,l)=>{const o=t("a-input"),m=t("a-form-item"),f=t("a-textarea"),c=t("a-input-number"),p=t("a-form"),h=t("a-button"),j=e;return s(),u(j,{title:i(_).id?"编辑配置":"增加配置",width:550,visible:i(v),"destroy-on-close":!0,onClose:y},{footer:n(()=>[r(h,{class:"xn-mr8",onClick:y},{default:n(()=>l[4]||(l[4]=[d("关闭")])),_:1}),r(h,{type:"primary",onClick:C,loading:i(b)},{default:n(()=>l[5]||(l[5]=[d("保存")])),_:1},8,["loading"])]),default:n(()=>[r(p,{ref_key:"formRef",ref:g,model:i(_),rules:x,layout:"vertical"},{default:n(()=>[r(m,{label:"配置键：",name:"configKey"},{default:n(()=>[r(o,{value:i(_).configKey,"onUpdate:value":l[0]||(l[0]=e=>i(_).configKey=e),placeholder:"请输入配置键","allow-clear":""},null,8,["value"])]),_:1}),r(m,{label:"配置值：",name:"configValue"},{default:n(()=>[r(f,{value:i(_).configValue,"onUpdate:value":l[1]||(l[1]=e=>i(_).configValue=e),placeholder:"请输入配置值","auto-size":{minRows:2,maxRows:5}},null,8,["value"])]),_:1}),r(m,{label:"备注：",name:"remark"},{default:n(()=>[r(o,{value:i(_).remark,"onUpdate:value":l[2]||(l[2]=e=>i(_).remark=e),placeholder:"请输入备注","allow-clear":""},null,8,["value"])]),_:1}),r(m,{label:"排序:",name:"sortCode"},{default:n(()=>[r(c,{class:"xn-wd",value:i(_).sortCode,"onUpdate:value":l[3]||(l[3]=e=>i(_).sortCode=e),max:1e3},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title","visible"])}}};export{m as default};
