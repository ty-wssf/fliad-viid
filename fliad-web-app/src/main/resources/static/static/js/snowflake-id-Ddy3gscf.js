function t(t,r,n){for(var s=[],e=Math.max(t.length,r.length),i=0,o=0;o<e||i;){var h=i+(o<t.length?t[o]:0)+(o<r.length?r[o]:0);s.push(h%n),i=Math.floor(h/n),o++}return s}function r(r,n,s){if(r<0)return null;if(0==r)return[];for(var e=[],i=n;1&r&&(e=t(e,i,s)),0!=(r>>=1);)i=t(i,i,s);return e}function n(n,s,e){var i=function(t,r){for(var n=t.split(""),s=[],e=n.length-1;e>=0;e--){var i=parseInt(n[e],r);if(isNaN(i))return null;s.push(i)}return s}(n,s);if(null===i)return null;for(var o=[],h=[1],l=0;l<i.length;l++)i[l]&&(o=t(o,r(i[l],h,e),e)),h=r(s,h,e);var a="";for(l=o.length-1;l>=0;l--)a+=o[l].toString(e);return a}class s{constructor(t){t=t||{},this.seq=0,this.mid=(t.mid||1)%1023,this.offset=t.offset||0,this.lastTime=0}generate(){const t=Date.now(),r=(t-this.offset).toString(2);this.lastTime==t?(this.seq++,this.seq>4095&&(this.seq=0)):this.seq=0,this.lastTime=t;let s=this.seq.toString(2),e=this.mid.toString(2);for(;s.length<12;)s="0"+s;for(;e.length<10;)e="0"+e;const i=r+e+s;let o="";for(let n=i.length;n>0;n-=4)o=parseInt(i.substring(n-4,n),2).toString(16)+o;return"0x"===(h=o).substring(0,2)&&(h=h.substring(2)),n(h=h.toLowerCase(),16,10);var h}}export{s as S};
