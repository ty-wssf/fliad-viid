import{_ as e}from"./index-yhO5Pkur.js";import{_ as a}from"./index-D6xghLx3.js";import{h as l,t}from"./index-DcffTgQN.js";import{r as o}from"./formRules-B2bzcXv4.js";import s from"./subForm-BJhr5bpC.js";import{b as u}from"./ant-design-vendor-CRFwT3Wn.js";import{d,f as i,a1 as r,a6 as n,V as p,a2 as m,k as f,u as v,G as c,H as _}from"./vue-vendor-BzDj5Url.js";const S=(e,...a)=>l("/dev/slideshow/"+e,...a),g={devSlideshowPage:e=>S("page",e,"get"),devSlideshowSubmitForm:(e,a=!1)=>S(a?"edit":"add",e),devSlideshowDelete:e=>S("delete",e),devSlideshowDisableStatus:e=>S("disableStatus",e),devSlideshowEnableStatus:e=>S("enableStatus",e)},h=d({name:"devSlideshowForm"}),b=Object.assign(h,{emits:{successful:null},setup(l,{expose:d,emit:S}){const h=i(!1),b=S,y=i(),w=i(),j=i({}),D=i(!1),O=i([]),C=()=>{y.value.resetFields(),j.value={},h.value=!1},x={title:[o("请输入标题")],place:[o("请输入展示位置")],sortCode:[o("请输入排序")]},k=()=>{y.value.validate().then(()=>{const e=u(j.value);e.place=JSON.stringify(e.place);const a=w.value.getData();!1!==a&&(e.pathDetails=JSON.stringify(a),D.value=!0,g.devSlideshowSubmitForm(e,e.id).then(()=>{C(),b("successful")}).finally(()=>{D.value=!1}))})};return d({onOpen:e=>{if(h.value=!0,e){let a=u(e);a.place=JSON.parse(a.place),a.pathDetails=JSON.parse(a.pathDetails),j.value=Object.assign({},a)}else j.value={place:["BACK_SYS_INDEX"]};O.value=t.dictList("DEV_SLIDESHOW_PLACE")}}),(l,t)=>{const o=r("a-input"),u=r("a-form-item"),d=r("a-col"),i=a,S=r("a-checkbox-group"),g=r("a-row"),b=r("a-form"),F=r("a-button"),E=e;return p(),n(E,{title:v(j).id?"编辑轮播图":"增加轮播图",width:700,open:v(h),"onUpdate:open":t[4]||(t[4]=e=>_(h)?h.value=e:null),"destroy-on-close":!0,onClose:C},{footer:m(()=>[f(F,{style:{"margin-right":"8px"},onClick:C},{default:m(()=>t[5]||(t[5]=[c("关闭")])),_:1}),f(F,{type:"primary",onClick:k,loading:v(D)},{default:m(()=>t[6]||(t[6]=[c("保存")])),_:1},8,["loading"])]),default:m(()=>[f(b,{ref_key:"formRef",ref:y,model:v(j),rules:x,layout:"vertical"},{default:m(()=>[f(g,{gutter:16},{default:m(()=>[f(d,{span:18},{default:m(()=>[f(u,{label:"标题：",name:"title"},{default:m(()=>[f(o,{value:v(j).title,"onUpdate:value":t[0]||(t[0]=e=>v(j).title=e),placeholder:"请输入标题","allow-clear":""},null,8,["value"])]),_:1}),f(u,{label:"排序：",name:"sortCode"},{default:m(()=>[f(o,{value:v(j).sortCode,"onUpdate:value":t[1]||(t[1]=e=>v(j).sortCode=e),placeholder:"请输入排序","allow-clear":""},null,8,["value"])]),_:1})]),_:1}),f(d,{span:6},{default:m(()=>[f(u,{label:"图片：",name:"image"},{default:m(()=>[f(i,{value:v(j).image,"onUpdate:value":t[2]||(t[2]=e=>v(j).image=e),uploadMode:"image"},null,8,["value"])]),_:1})]),_:1}),f(d,{span:24},{default:m(()=>[f(u,{label:"展示位置：",name:"place"},{default:m(()=>[f(S,{value:v(j).place,"onUpdate:value":t[3]||(t[3]=e=>v(j).place=e),placeholder:"请选择展示位置",options:v(O)},null,8,["value","options"])]),_:1})]),_:1}),f(d,{span:24},{default:m(()=>[f(s,{ref_key:"sumFormRef",ref:w,"data-array":v(j).pathDetails,place:v(j).place},null,8,["data-array","place"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["title","open"])}}}),y=Object.freeze(Object.defineProperty({__proto__:null,default:b},Symbol.toStringTag,{value:"Module"}));export{b as _,y as f,g as s};
