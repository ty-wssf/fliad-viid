import{_ as e}from"./index-yhO5Pkur.js";import{r as a}from"./formRules-B2bzcXv4.js";import{h as l}from"./index-DcffTgQN.js";import{b as o}from"./ant-design-vendor-CRFwT3Wn.js";import{d as t,f as s,a1 as r,a6 as u,V as n,a2 as d,k as i,u as m,G as p,H as f}from"./vue-vendor-BzDj5Url.js";const c=(e,...a)=>l("/sys/group/"+e,...a),v={sysGroupPage:e=>c("page",e,"get"),sysGroupSubmitForm:(e,a=!1)=>c(a?"edit":"add",e),sysGroupDelete:e=>c("delete",e),sysGroupDetail:e=>c("detail",e,"get"),sysGroupOwnUser:e=>c("ownUser",e,"get"),sysGroupOrgTreeSelector:e=>c("orgTreeSelector",e,"get"),sysGroupUserSelector:e=>c("userSelector",e,"get"),sysGroupGrantUser:e=>c("grantUser",e)},y=t({name:"sysGroupForm"}),g=Object.assign(y,{emits:{successful:null},setup(l,{expose:t,emit:c}){const y=s(!1),g=c,_=s(),b=s({}),G=s(!1),h=()=>{_.value.resetFields(),b.value={},y.value=!1},j={name:[a("请输入名称")],sortCode:[a("请输入排序码")]},U=()=>{_.value.validate().then(()=>{G.value=!0;const e=o(b.value);v.sysGroupSubmitForm(e,e.id).then(()=>{h(),g("successful")}).finally(()=>{G.value=!1})}).catch(()=>{})};return t({onOpen:e=>{if(y.value=!0,b.value={sortCode:99},e){let a=o(e);b.value=Object.assign({},a)}}}),(a,l)=>{const o=r("a-input"),t=r("a-form-item"),s=r("a-textarea"),c=r("a-input-number"),v=r("a-form"),g=r("a-button"),x=e;return n(),u(x,{title:m(b).id?"编辑用户组":"增加用户组",width:700,open:m(y),"onUpdate:open":l[3]||(l[3]=e=>f(y)?y.value=e:null),"destroy-on-close":!0,onClose:h},{footer:d(()=>[i(g,{style:{"margin-right":"8px"},onClick:h},{default:d(()=>l[4]||(l[4]=[p("关闭")])),_:1}),i(g,{type:"primary",onClick:U,loading:m(G)},{default:d(()=>l[5]||(l[5]=[p("保存")])),_:1},8,["loading"])]),default:d(()=>[i(v,{ref_key:"formRef",ref:_,model:m(b),rules:j,layout:"vertical"},{default:d(()=>[i(t,{label:"名称：",name:"name"},{default:d(()=>[i(o,{value:m(b).name,"onUpdate:value":l[0]||(l[0]=e=>m(b).name=e),placeholder:"请输入名称","allow-clear":""},null,8,["value"])]),_:1}),i(t,{label:"备注：",name:"remark"},{default:d(()=>[i(s,{value:m(b).remark,"onUpdate:value":l[1]||(l[1]=e=>m(b).remark=e),placeholder:"请输入备注","auto-size":{minRows:3,maxRows:5}},null,8,["value"])]),_:1}),i(t,{label:"排序码：",name:"sortCode"},{default:d(()=>[i(c,{value:m(b).sortCode,"onUpdate:value":l[2]||(l[2]=e=>m(b).sortCode=e),placeholder:"请输入排序码",min:1,max:1e4,style:{width:"100%"}},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title","open"])}}}),_=Object.freeze(Object.defineProperty({__proto__:null,default:g},Symbol.toStringTag,{value:"Module"}));export{g as _,_ as f,v as s};
