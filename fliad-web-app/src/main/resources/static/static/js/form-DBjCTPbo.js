import{r as e}from"./formRules-B2bzcXv4.js";import{v as a}from"./viidNotificationApi-CwRwH3GV.js";import{b as l}from"./ant-design-vendor-CRFwT3Wn.js";import{d as t,f as o,a1 as s,a6 as u,V as i,a2 as n,k as r,u as d,G as f}from"./vue-vendor-BzDj5Url.js";import"./index-DcffTgQN.js";const m=t({name:"viidNotificationForm"}),v=Object.assign(m,{emits:{successful:null},setup(t,{expose:m,emit:v}){const c=o(!1),p=v,b=o(),D=o({}),_=o(!1),w=()=>{b.value.resetFields(),D.value={},c.value=!1},I={NotificationID:[e("请输入通知标识")],SubscribeID:[e("请输入订阅标识")]},R=()=>{b.value.validate().then(()=>{_.value=!0;const e=l(D.value);a.viidSubscribeNotificationsSubmitForm(e,e.ID).then(()=>{w(),p("successful")}).finally(()=>{_.value=!1})})};return m({onOpen:e=>{if(c.value=!0,e){let a=l(e);D.value=Object.assign({},a)}}}),(e,a)=>{const l=s("a-input"),t=s("a-form-item"),o=s("a-col"),m=s("a-date-picker"),v=s("a-textarea"),p=s("a-input-number"),g=s("a-row"),h=s("a-form"),x=s("a-button"),y=s("a-drawer");return i(),u(y,{title:d(D).ID?"编辑订阅通知":"增加订阅通知",width:700,visible:d(c),"destroy-on-close":!0,"footer-style":{textAlign:"right"},onClose:w},{footer:n(()=>[r(x,{style:{"margin-right":"8px"},onClick:w},{default:n(()=>a[8]||(a[8]=[f("关闭")])),_:1}),r(x,{type:"primary",onClick:R,loading:d(_)},{default:n(()=>a[9]||(a[9]=[f("保存")])),_:1},8,["loading"])]),default:n(()=>[r(h,{ref_key:"formRef",ref:b,model:d(D),rules:I,layout:"vertical"},{default:n(()=>[r(g,{gutter:16},{default:n(()=>[r(o,{span:12},{default:n(()=>[r(t,{label:"通知标识：",name:"NotificationID"},{default:n(()=>[r(l,{value:d(D).NotificationID,"onUpdate:value":a[0]||(a[0]=e=>d(D).NotificationID=e),placeholder:"请输入通知标识",disabled:!!d(D).ID,"allow-clear":""},null,8,["value","disabled"])]),_:1})]),_:1}),r(o,{span:12},{default:n(()=>[r(t,{label:"订阅标识：",name:"SubscribeID"},{default:n(()=>[r(l,{value:d(D).SubscribeID,"onUpdate:value":a[1]||(a[1]=e=>d(D).SubscribeID=e),placeholder:"请输入订阅标识",disabled:!!d(D).ID,"allow-clear":""},null,8,["value","disabled"])]),_:1})]),_:1}),r(o,{span:12},{default:n(()=>[r(t,{label:"订阅标题：",name:"Title"},{default:n(()=>[r(l,{value:d(D).Title,"onUpdate:value":a[2]||(a[2]=e=>d(D).Title=e),placeholder:"请输入订阅标题","allow-clear":""},null,8,["value"])]),_:1})]),_:1}),r(o,{span:12},{default:n(()=>[r(t,{label:"触发时间：",name:"TriggerTime"},{default:n(()=>[r(m,{value:d(D).TriggerTime,"onUpdate:value":a[3]||(a[3]=e=>d(D).TriggerTime=e),"value-format":"YYYY-MM-DD HH:mm:ss","show-time":"",class:"xn-wd"},null,8,["value"])]),_:1})]),_:1}),r(o,{span:24},{default:n(()=>[r(t,{label:"信息标识：",name:"InfoIDs"},{default:n(()=>[r(v,{value:d(D).InfoIDs,"onUpdate:value":a[4]||(a[4]=e=>d(D).InfoIDs=e),placeholder:"请输入信息标识","auto-size":{minRows:2,maxRows:4},"allow-clear":""},null,8,["value"])]),_:1})]),_:1}),r(o,{span:24},{default:n(()=>[r(t,{label:"请求数据：",name:"RequestData"},{default:n(()=>[r(v,{value:d(D).RequestData,"onUpdate:value":a[5]||(a[5]=e=>d(D).RequestData=e),placeholder:"请输入请求数据","auto-size":{minRows:3,maxRows:6},"allow-clear":""},null,8,["value"])]),_:1})]),_:1}),r(o,{span:24},{default:n(()=>[r(t,{label:"响应数据：",name:"ResponseData"},{default:n(()=>[r(v,{value:d(D).ResponseData,"onUpdate:value":a[6]||(a[6]=e=>d(D).ResponseData=e),placeholder:"请输入响应数据","auto-size":{minRows:3,maxRows:6},"allow-clear":""},null,8,["value"])]),_:1})]),_:1}),r(o,{span:12},{default:n(()=>[r(t,{label:"请求耗时（毫秒）：",name:"RequestCost"},{default:n(()=>[r(p,{value:d(D).RequestCost,"onUpdate:value":a[7]||(a[7]=e=>d(D).RequestCost=e),placeholder:"请输入请求耗时",min:0,style:{width:"100%"}},null,8,["value"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["title","visible"])}}});export{v as default};
