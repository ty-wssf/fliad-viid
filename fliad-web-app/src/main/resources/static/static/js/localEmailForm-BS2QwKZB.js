import{r as e}from"./formRules-B2bzcXv4.js";import{c as l}from"./configApi-BMiyCPj3.js";import{k as a,b as _}from"./ant-design-vendor-CRFwT3Wn.js";import{d as L,f as A,a1 as n,a6 as S,V as c,a2 as O,k as t,u as d,G as o}from"./vue-vendor-BzDj5Url.js";import"./index-DcffTgQN.js";const u=L({name:"localEmailForm"}),r=Object.assign(u,{setup(L){const u=A(),r=A({}),i=A(!1),s=A(!0);l.configList({category:"EMAIL_LOCAL"}).then(e=>{s.value=!1,e?e.forEach(e=>{r.value[e.configKey]=E(e.configValue)}):a.warning("表单项不存在，请初始化数据库")});const E=e=>"true"===e||"false"===e?"true"===e:e,M={SNOWY_EMAIL_LOCAL_FROM:[e("请输入发送邮箱号")],SNOWY_EMAIL_LOCAL_PASSWORD:[e("请输入邮箱密钥")],SNOWY_EMAIL_LOCAL_AUTH:[e("请选择是否需要用户名密码验证")],SNOWY_EMAIL_LOCAL_SSL_ENABLE:[e("请选择是否使用SSL安全连接")],SNOWY_EMAIL_LOCAL_STARTTLS_ENABLE:[e("请选择是否使用STARTTLS安全连接")]},T={span:4},f={span:12};return(e,a)=>{const L=n("a-input"),A=n("a-form-item"),E=n("a-input-number"),p=n("a-switch"),h=n("a-button"),N=n("a-form"),m=n("a-spin");return c(),S(m,{spinning:d(s)},{default:O(()=>[t(N,{ref_key:"formRef",ref:u,model:d(r),rules:M,layout:"vertical","label-col":{...T,offset:0},"wrapper-col":{...f,offset:0}},{default:O(()=>[t(A,{label:"发送邮箱号：",name:"SNOWY_EMAIL_LOCAL_FROM"},{default:O(()=>[t(L,{value:d(r).SNOWY_EMAIL_LOCAL_FROM,"onUpdate:value":a[0]||(a[0]=e=>d(r).SNOWY_EMAIL_LOCAL_FROM=e),placeholder:"请输入发送邮箱号"},null,8,["value"])]),_:1}),t(A,{label:"邮箱密钥：",name:"SNOWY_EMAIL_LOCAL_PASSWORD"},{default:O(()=>[t(L,{value:d(r).SNOWY_EMAIL_LOCAL_PASSWORD,"onUpdate:value":a[1]||(a[1]=e=>d(r).SNOWY_EMAIL_LOCAL_PASSWORD=e),placeholder:"请输入邮箱密钥"},null,8,["value"])]),_:1}),t(A,{label:"SMTP服务器域名：",name:"SNOWY_EMAIL_LOCAL_SMTP_HOST"},{default:O(()=>[t(L,{value:d(r).SNOWY_EMAIL_LOCAL_SMTP_HOST,"onUpdate:value":a[2]||(a[2]=e=>d(r).SNOWY_EMAIL_LOCAL_SMTP_HOST=e),placeholder:"请输入SMTP服务器域名"},null,8,["value"])]),_:1}),t(A,{label:"SMTP服务端口：",name:"SNOWY_EMAIL_LOCAL_SMTP_PORT"},{default:O(()=>[t(E,{value:d(r).SNOWY_EMAIL_LOCAL_SMTP_PORT,"onUpdate:value":a[3]||(a[3]=e=>d(r).SNOWY_EMAIL_LOCAL_SMTP_PORT=e),placeholder:"请输入SMTP服务端口",style:{width:"100%"}},null,8,["value"])]),_:1}),t(A,{label:"是否需要用户名密码验证：",name:"SNOWY_EMAIL_LOCAL_AUTH"},{default:O(()=>[t(p,{checked:d(r).SNOWY_EMAIL_LOCAL_AUTH,"onUpdate:checked":a[4]||(a[4]=e=>d(r).SNOWY_EMAIL_LOCAL_AUTH=e),"checked-children":"是","un-checked-children":"否",placeholder:"请选择是否需要用户名密码验证"},null,8,["checked"])]),_:1}),t(A,{label:"是否使用SSL安全连接：",name:"SNOWY_EMAIL_LOCAL_SSL_ENABLE"},{default:O(()=>[t(p,{checked:d(r).SNOWY_EMAIL_LOCAL_SSL_ENABLE,"onUpdate:checked":a[5]||(a[5]=e=>d(r).SNOWY_EMAIL_LOCAL_SSL_ENABLE=e),"checked-children":"是","un-checked-children":"否",placeholder:"请选择是否使用SSL安全连接"},null,8,["checked"])]),_:1}),t(A,{label:"是否使用STARTTLS安全连接：",name:"SNOWY_EMAIL_LOCAL_STARTTLS_ENABLE"},{default:O(()=>[t(p,{checked:d(r).SNOWY_EMAIL_LOCAL_STARTTLS_ENABLE,"onUpdate:checked":a[6]||(a[6]=e=>d(r).SNOWY_EMAIL_LOCAL_STARTTLS_ENABLE=e),"checked-children":"是","un-checked-children":"否",placeholder:"请选择是否使用STARTTLS安全连接"},null,8,["checked"])]),_:1}),t(A,null,{default:O(()=>[t(h,{type:"primary",loading:d(i),onClick:a[7]||(a[7]=e=>{u.value.validate().then(()=>{i.value=!0;let e=_(r.value);const a=Object.entries(e).map(e=>({configKey:e[0],configValue:e[1]}));l.configEditForm(a).then(()=>{}).finally(()=>{i.value=!1})}).catch(()=>{})})},{default:O(()=>a[9]||(a[9]=[o("保存")])),_:1},8,["loading"]),t(h,{class:"xn-ml10",onClick:a[8]||(a[8]=()=>d(u).resetFields())},{default:O(()=>a[10]||(a[10]=[o("重置")])),_:1})]),_:1})]),_:1},8,["model","label-col","wrapper-col"])]),_:1},8,["spinning"])}}});export{r as default};
