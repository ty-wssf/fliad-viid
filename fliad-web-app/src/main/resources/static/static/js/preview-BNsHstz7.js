import{_ as e}from"./index-yhO5Pkur.js";import{_ as a}from"./index-Dj7V4so4.js";import{g as t}from"./genBasicApi-QBDGPEOc.js";import{_ as s}from"./index-DcffTgQN.js";import{k as i}from"./ant-design-vendor-CRFwT3Wn.js";import{d as o,f as d,a1 as n,a6 as l,V as c,a2 as p,k as y,u,H as r,U as v,F as T,W as f,Y as b}from"./vue-vendor-BzDj5Url.js";const m={class:"gen-preview-content"},g=o({name:"genPreview"}),K=s(Object.assign(g,{setup(s,{expose:o}){const g=d(!1),K=d(),L=d(),_=d(!0),C=d([]),j=()=>{g.value=!1},B=e=>{var a;L.value=null==(a=C.value.find(a=>a.codeTypeKey===e).codeTypeList[0])?void 0:a.codeFileName};return o({onOpen:e=>{g.value=!0;const a={id:e.id};t.basicPreviewGen(a).then(e=>{e?(C.value=[{codeTypeKey:"frontend",codeTypeTitle:"前端代码",codeTypeList:e.genBasicCodeFrontendResultList},{codeTypeKey:"backend",codeTypeTitle:"后端代码",codeTypeList:e.genBasicCodeBackendResultList},{codeTypeKey:"sqlend",codeTypeTitle:"SQL文件",codeTypeList:e.genBasicCodeSqlResultList}],e.genBasicCodeMobileResultList&&C.value.push({codeTypeKey:"mobile",codeTypeTitle:"移动端代码",codeTypeList:e.genBasicCodeMobileResultList})):i.warning("预览失败：请检查问题或反馈小诺官方")}).finally(()=>{_.value=!1})}}),(t,s)=>{const i=a,o=n("a-tab-pane"),d=n("a-tabs"),k=n("a-spin"),x=e;return c(),l(x,{title:"预览",width:1200,visible:u(g),"destroy-on-close":!0,"body-style":{"padding-top":"0px"},onClose:j},{default:p(()=>[y(k,{spinning:u(_)},{default:p(()=>[y(d,{activeKey:u(K),"onUpdate:activeKey":s[1]||(s[1]=e=>r(K)?K.value=e:null),onChange:B},{default:p(()=>[(c(!0),v(T,null,f(u(C),e=>(c(),l(o,{key:e.codeTypeKey,tab:e.codeTypeTitle,"force-render":""},{default:p(()=>[y(d,{activeKey:u(L),"onUpdate:activeKey":s[0]||(s[0]=e=>r(L)?L.value=e:null),"tab-position":"left","hide-add":"",type:"card"},{default:p(()=>[(c(!0),v(T,null,f(e.codeTypeList,e=>(c(),l(o,{key:e.codeFileName,tab:e.codeFileName},{default:p(()=>[b("div",m,[y(i,{code:e.codeFileContent,copy:""},null,8,["code"])])]),_:2},1032,["tab"]))),128))]),_:2},1032,["activeKey"])]),_:2},1032,["tab"]))),128))]),_:1},8,["activeKey"])]),_:1},8,["spinning"])]),_:1},8,["visible"])}}}),[["__scopeId","data-v-2cb2ef2c"]]);export{K as default};
