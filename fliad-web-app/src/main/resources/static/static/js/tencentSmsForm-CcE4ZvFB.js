import{r as e}from"./formRules-B2bzcXv4.js";import{c as a}from"./configApi-BMiyCPj3.js";import{k as _,b as l}from"./ant-design-vendor-CRFwT3Wn.js";import{d as E,f as S,a1 as n,a6 as N,V as o,a2 as t,k as T,u,G as s}from"./vue-vendor-BzDj5Url.js";import"./index-DcffTgQN.js";const r=E({name:"tencentSmsForm"}),i=Object.assign(r,{setup(E){const r=S(),i=S({}),f=S(!1),c=S(!0);a.configList({category:"SMS_TENCENT"}).then(e=>{c.value=!1,e?e.forEach(e=>{i.value[e.configKey]=e.configValue}):_.warning("表单项不存在，请初始化数据库")});const d={SNOWY_SMS_TENCENT_SECRET_ID:[e("请输入腾讯云密钥ID")],SNOWY_SMS_TENCENT_SECRET_KEY:[e("请输入腾讯云密钥SECRET")],SNOWY_SMS_TENCENT_DEFAULT_SDK_APP_ID:[e("请输入腾讯云应用ID")],SNOWY_SMS_TENCENT_DEFAULT_SIGN_NAME:[e("请输入腾讯云短信签名")]},C={span:4},p={span:12};return(e,_)=>{const E=n("a-input"),S=n("a-form-item"),m=n("a-button"),D=n("a-form"),v=n("a-spin");return o(),N(v,{spinning:u(c)},{default:t(()=>[T(D,{ref_key:"formRef",ref:r,model:u(i),rules:d,layout:"vertical","label-col":{...C,offset:0},"wrapper-col":{...p,offset:0}},{default:t(()=>[T(S,{label:"腾讯云密钥ID：",name:"SNOWY_SMS_TENCENT_SECRET_ID"},{default:t(()=>[T(E,{value:u(i).SNOWY_SMS_TENCENT_SECRET_ID,"onUpdate:value":_[0]||(_[0]=e=>u(i).SNOWY_SMS_TENCENT_SECRET_ID=e),placeholder:"请输入腾讯云密钥ID"},null,8,["value"])]),_:1}),T(S,{label:"腾讯云密钥SECRET：",name:"SNOWY_SMS_TENCENT_SECRET_KEY"},{default:t(()=>[T(E,{value:u(i).SNOWY_SMS_TENCENT_SECRET_KEY,"onUpdate:value":_[1]||(_[1]=e=>u(i).SNOWY_SMS_TENCENT_SECRET_KEY=e),placeholder:"请输入腾讯云密钥SECRET"},null,8,["value"])]),_:1}),T(S,{label:"腾讯云应用ID：",name:"SNOWY_SMS_TENCENT_DEFAULT_SDK_APP_ID"},{default:t(()=>[T(E,{value:u(i).SNOWY_SMS_TENCENT_DEFAULT_SDK_APP_ID,"onUpdate:value":_[2]||(_[2]=e=>u(i).SNOWY_SMS_TENCENT_DEFAULT_SDK_APP_ID=e),placeholder:"请输入腾讯云应用ID"},null,8,["value"])]),_:1}),T(S,{label:"腾讯云短信签名：",name:"SNOWY_SMS_TENCENT_DEFAULT_SIGN_NAME"},{default:t(()=>[T(E,{value:u(i).SNOWY_SMS_TENCENT_DEFAULT_SIGN_NAME,"onUpdate:value":_[3]||(_[3]=e=>u(i).SNOWY_SMS_TENCENT_DEFAULT_SIGN_NAME=e),placeholder:"请输入腾讯云短信签名"},null,8,["value"])]),_:1}),T(S,null,{default:t(()=>[T(m,{type:"primary",loading:u(f),onClick:_[4]||(_[4]=e=>{r.value.validate().then(()=>{f.value=!0;let e=l(i.value);const _=Object.entries(e).map(e=>({configKey:e[0],configValue:e[1]}));a.configEditForm(_).then(()=>{}).finally(()=>{f.value=!1})}).catch(()=>{})})},{default:t(()=>_[6]||(_[6]=[s("保存")])),_:1},8,["loading"]),T(m,{class:"xn-ml10",onClick:_[5]||(_[5]=()=>u(r).resetFields())},{default:t(()=>_[7]||(_[7]=[s("重置")])),_:1})]),_:1})]),_:1},8,["model","label-col","wrapper-col"])]),_:1},8,["spinning"])}}});export{i as default};
