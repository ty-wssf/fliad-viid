import{r as e}from"./formRules-B2bzcXv4.js";import{h as a}from"./index-DcffTgQN.js";import{d as l,f as t,a1 as o,a6 as s,V as u,a2 as n,k as r,u as d,H as i}from"./vue-vendor-BzDj5Url.js";const c=(e,...l)=>a("/sys/button/"+e,...l),m={buttonPage:e=>c("page",e,"get"),submitForm:(e,a=!1)=>c(a?"edit":"add",e),buttonDelete:e=>c("delete",e),buttonDetail:e=>c("detail",e,"get")},v=l({name:"sysResourceButtonForm"}),f=Object.assign(v,{emits:{successful:null},setup(a,{expose:l,emit:c}){const v=t(!1),f=c,p=t(),b=t({}),_=t(),g=()=>{p.value.resetFields(),v.value=!1},j={title:[e("请输入按钮名称")],code:[e("请输入按钮编码")]},y=()=>{p.value.validate().then(()=>{const e={category:"BUTTON",parentId:_.value.id},a=Object.assign(e,b.value);m.submitForm(a,b.value.id).then(e=>{g(),f("successful")})}).catch(()=>{})};return l({onOpen:(e,a)=>{v.value=!0,_.value=e,b.value={sortCode:99},a&&(b.value=Object.assign({},a))}}),(e,a)=>{const l=o("a-input"),t=o("a-form-item"),c=o("a-input-number"),m=o("a-form"),f=o("a-modal");return u(),s(f,{open:d(v),"onUpdate:open":a[3]||(a[3]=e=>i(v)?v.value=e:null),title:d(b).id?"编辑按钮":"增加按钮",width:550,"mask-closable":!1,"destroy-on-close":!0,onOk:y,onCancel:g},{default:n(()=>[r(m,{ref_key:"formRef",ref:p,model:d(b),rules:j,layout:"vertical"},{default:n(()=>[r(t,{label:"显示名称：",name:"title"},{default:n(()=>[r(l,{value:d(b).title,"onUpdate:value":a[0]||(a[0]=e=>d(b).title=e),placeholder:"请输入显示名称","allow-clear":""},null,8,["value"])]),_:1}),r(t,{label:"编码：",name:"code"},{default:n(()=>[r(l,{value:d(b).code,"onUpdate:value":a[1]||(a[1]=e=>d(b).code=e),placeholder:"请输入按钮编码","allow-clear":""},null,8,["value"])]),_:1}),r(t,{label:"排序:",name:"sortCode"},{default:n(()=>[r(c,{class:"xn-wd",value:d(b).sortCode,"onUpdate:value":a[2]||(a[2]=e=>d(b).sortCode=e),max:100,min:0},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["open","title"])}}}),p=Object.freeze(Object.defineProperty({__proto__:null,default:f},Symbol.toStringTag,{value:"Module"}));export{f as _,m as b,p as f};
