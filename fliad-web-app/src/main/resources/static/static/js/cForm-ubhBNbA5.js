import{r as _}from"./formRules-B2bzcXv4.js";import{c as S}from"./configApi-BMiyCPj3.js";import{_ as e,t as O}from"./index-DcffTgQN.js";import{k as A,b as a}from"./ant-design-vendor-CRFwT3Wn.js";import{d as l,f as E,a1 as D,a6 as R,V as t,a2 as W,k as T,u as Y,G as L}from"./vue-vendor-BzDj5Url.js";const F=l({name:"bForm"}),d=e(Object.assign(F,{setup(e){const l=E(),F=E({}),d=E(!1),N=E(!0),n=O.dictList("UPDATE_PASSWORD_VALID_TYPE"),u=O.dictList("PASSWORD_COMPLEXITY_TYPE");S.configList({category:"PASSWORD_STRATEGY_FOR_C"}).then(_=>{N.value=!1,_?_.forEach(_=>{F.value[_.configKey]=U(_.configValue)}):A.warning("表单项不存在，请初始化数据库")});const U=_=>"true"===_||"false"===_?"true"===_:_,o={SNOWY_SYS_DEFAULT_PASSWORD_FOR_C:[_("请输入默认用户密码")],SNOWY_SYS_DEFAULT_PASSWORD_UPDATE_VALID_TYPE_FOR_C:[_("请选择密码修改验证方式")],SNOWY_SYS_DEFAULT_PASSWORD_MIN_LENGTH_FOR_C:[_("请输入密码最小长度")],SNOWY_SYS_DEFAULT_PASSWORD_MAX_LENGTH_FOR_C:[_("请输入密码最大长度")],SNOWY_SYS_DEFAULT_PASSWORD_COMPLEXITY_FOR_C:[_("请选择密码复杂度")],SNOWY_SYS_DEFAULT_PASSWORD_NOT_ALLOW_CONTINUOUS_SAME_CHARACTER_LENGTH_FOR_C:[_("请输入密码不能连续存在相同字符个数")],SNOWY_SYS_DEFAULT_PASSWORD_NOT_ALLOW_CONTAINS_USER_INFO_FLAG_FOR_C:[_("请选择密码不能包含用户信息")],SNOWY_SYS_DEFAULT_PASSWORD_NOT_ALLOW_USE_HISTORY_FLAG_FOR_C:[_("请选择密码不能使用历史密码")],SNOWY_SYS_DEFAULT_PASSWORD_NOT_ALLOW_USE_HISTORY_COUNT_FOR_C:[_("密码不能使用历史密码范围个数")],SNOWY_SYS_DEFAULT_PASSWORD_NOT_ALLOW_USE_WEAK_FLAG_FOR_C:[_("请选择密码不能使用弱密码库中密码")],SNOWY_SYS_DEFAULT_PASSWORD_DEFINE_WEAK_DATABASE_FOR_C:[_("请输入自定义额外弱密码库")],SNOWY_SYS_DEFAULT_PASSWORD_EXPIRED_DAYS_FOR_C:[_("请输入密码有效期天数")],SNOWY_SYS_DEFAULT_PASSWORD_EXPIRED_NOTICE_DAYS_FOR_C:[_("请输入密码过期天数")]},c={span:16},C={span:22};return(_,e)=>{const O=D("a-input"),A=D("a-form-item"),E=D("a-col"),U=D("a-radio-group"),r=D("a-row"),P=D("a-input-number"),s=D("a-switch"),f=D("a-button"),i=D("a-form"),p=D("a-spin");return t(),R(p,{spinning:Y(N)},{default:W(()=>[T(i,{ref_key:"formRef",ref:l,model:Y(F),rules:o,layout:"vertical","label-col":{...c,offset:0},"wrapper-col":{...C,offset:0},style:{width:"60%"}},{default:W(()=>[T(r,{gutter:8},{default:W(()=>[T(E,{span:12},{default:W(()=>[T(A,{label:"默认用户密码：",name:"SNOWY_SYS_DEFAULT_PASSWORD_FOR_C"},{default:W(()=>[T(O,{value:Y(F).SNOWY_SYS_DEFAULT_PASSWORD_FOR_C,"onUpdate:value":e[0]||(e[0]=_=>Y(F).SNOWY_SYS_DEFAULT_PASSWORD_FOR_C=_),placeholder:"请输入默认用户密码",style:{width:"100%"}},null,8,["value"])]),_:1})]),_:1}),T(E,{span:12},{default:W(()=>[T(A,{label:"密码修改验证方式：",name:"SNOWY_SYS_DEFAULT_PASSWORD_UPDATE_VALID_TYPE_FOR_C"},{default:W(()=>[T(U,{value:Y(F).SNOWY_SYS_DEFAULT_PASSWORD_UPDATE_VALID_TYPE_FOR_C,"onUpdate:value":e[1]||(e[1]=_=>Y(F).SNOWY_SYS_DEFAULT_PASSWORD_UPDATE_VALID_TYPE_FOR_C=_),options:Y(n),placeholder:"请选择密码修改验证方式"},null,8,["value","options"])]),_:1})]),_:1})]),_:1}),T(r,{gutter:8},{default:W(()=>[T(E,{span:12},{default:W(()=>[T(A,{label:"密码最小长度：",name:"SNOWY_SYS_DEFAULT_PASSWORD_MIN_LENGTH_FOR_C"},{default:W(()=>[T(P,{value:Y(F).SNOWY_SYS_DEFAULT_PASSWORD_MIN_LENGTH_FOR_C,"onUpdate:value":e[2]||(e[2]=_=>Y(F).SNOWY_SYS_DEFAULT_PASSWORD_MIN_LENGTH_FOR_C=_),placeholder:"请输入密码最小长度",style:{width:"100%"}},{addonAfter:W(()=>e[15]||(e[15]=[L(" 位 ")])),_:1},8,["value"])]),_:1})]),_:1}),T(E,{span:12},{default:W(()=>[T(A,{label:"密码最大长度：",name:"SNOWY_SYS_DEFAULT_PASSWORD_MAX_LENGTH_FOR_C"},{default:W(()=>[T(P,{value:Y(F).SNOWY_SYS_DEFAULT_PASSWORD_MAX_LENGTH_FOR_C,"onUpdate:value":e[3]||(e[3]=_=>Y(F).SNOWY_SYS_DEFAULT_PASSWORD_MAX_LENGTH_FOR_C=_),placeholder:"请输入密码最大长度",style:{width:"100%"}},{addonAfter:W(()=>e[16]||(e[16]=[L(" 位 ")])),_:1},8,["value"])]),_:1})]),_:1})]),_:1}),T(r,{gutter:8},{default:W(()=>[T(E,{span:12},{default:W(()=>[T(A,{label:"密码复杂度：",name:"SNOWY_SYS_DEFAULT_PASSWORD_COMPLEXITY_FOR_C"},{default:W(()=>[T(U,{value:Y(F).SNOWY_SYS_DEFAULT_PASSWORD_COMPLEXITY_FOR_C,"onUpdate:value":e[4]||(e[4]=_=>Y(F).SNOWY_SYS_DEFAULT_PASSWORD_COMPLEXITY_FOR_C=_),options:Y(u),direction:"vertical",class:"vertical-radio-group",placeholder:"请选择密码复杂度"},null,8,["value","options"])]),_:1})]),_:1}),T(E,{span:12},{default:W(()=>[T(A,{label:"密码不能连续存在相同字符个数：",name:"SNOWY_SYS_DEFAULT_PASSWORD_NOT_ALLOW_CONTINUOUS_SAME_CHARACTER_LENGTH_FOR_C"},{default:W(()=>[T(P,{value:Y(F).SNOWY_SYS_DEFAULT_PASSWORD_NOT_ALLOW_CONTINUOUS_SAME_CHARACTER_LENGTH_FOR_C,"onUpdate:value":e[5]||(e[5]=_=>Y(F).SNOWY_SYS_DEFAULT_PASSWORD_NOT_ALLOW_CONTINUOUS_SAME_CHARACTER_LENGTH_FOR_C=_),placeholder:"请输入密码不能连续存在相同字符个数",style:{width:"100%"}},{addonAfter:W(()=>e[17]||(e[17]=[L(" 个 ")])),_:1},8,["value"])]),_:1}),T(A,{label:"密码不能包含用户信息：",name:"SNOWY_SYS_DEFAULT_PASSWORD_NOT_ALLOW_CONTAINS_USER_INFO_FLAG_FOR_C"},{default:W(()=>[T(s,{checked:Y(F).SNOWY_SYS_DEFAULT_PASSWORD_NOT_ALLOW_CONTAINS_USER_INFO_FLAG_FOR_C,"onUpdate:checked":e[6]||(e[6]=_=>Y(F).SNOWY_SYS_DEFAULT_PASSWORD_NOT_ALLOW_CONTAINS_USER_INFO_FLAG_FOR_C=_),"checked-children":"不能","un-checked-children":"包含",placeholder:"请选择密码不能包含用户信息"},null,8,["checked"])]),_:1}),T(A,{label:"密码不能使用历史密码：",name:"SNOWY_SYS_DEFAULT_PASSWORD_NOT_ALLOW_USE_HISTORY_FLAG_FOR_C"},{default:W(()=>[T(s,{checked:Y(F).SNOWY_SYS_DEFAULT_PASSWORD_NOT_ALLOW_USE_HISTORY_FLAG_FOR_C,"onUpdate:checked":e[7]||(e[7]=_=>Y(F).SNOWY_SYS_DEFAULT_PASSWORD_NOT_ALLOW_USE_HISTORY_FLAG_FOR_C=_),"checked-children":"不能","un-checked-children":"允许",placeholder:"请选择密码不能使用历史密码"},null,8,["checked"])]),_:1})]),_:1})]),_:1}),T(r,{gutter:8},{default:W(()=>[T(E,{span:12},{default:W(()=>[T(A,{label:"密码不能使用历史密码范围个数：",name:"SNOWY_SYS_DEFAULT_PASSWORD_NOT_ALLOW_USE_HISTORY_COUNT_FOR_C"},{default:W(()=>[T(P,{value:Y(F).SNOWY_SYS_DEFAULT_PASSWORD_NOT_ALLOW_USE_HISTORY_COUNT_FOR_C,"onUpdate:value":e[8]||(e[8]=_=>Y(F).SNOWY_SYS_DEFAULT_PASSWORD_NOT_ALLOW_USE_HISTORY_COUNT_FOR_C=_),placeholder:"请输入密码不能使用历史密码范围个数",style:{width:"100%"}},{addonAfter:W(()=>e[18]||(e[18]=[L(" 个 ")])),_:1},8,["value"])]),_:1})]),_:1}),T(E,{span:12},{default:W(()=>[T(A,{label:"密码不能使用弱密码库中密码：",name:"SNOWY_SYS_DEFAULT_PASSWORD_NOT_ALLOW_USE_WEAK_FLAG_FOR_C"},{default:W(()=>[T(s,{checked:Y(F).SNOWY_SYS_DEFAULT_PASSWORD_NOT_ALLOW_USE_WEAK_FLAG_FOR_C,"onUpdate:checked":e[9]||(e[9]=_=>Y(F).SNOWY_SYS_DEFAULT_PASSWORD_NOT_ALLOW_USE_WEAK_FLAG_FOR_C=_),"checked-children":"不能","un-checked-children":"允许",placeholder:"请选择密码不能使用弱密码库中密码"},null,8,["checked"])]),_:1})]),_:1})]),_:1}),T(r,{gutter:8},{default:W(()=>[T(E,{span:12},{default:W(()=>[T(A,{label:"密码有效期天数：",name:"SNOWY_SYS_DEFAULT_PASSWORD_EXPIRED_DAYS_FOR_C"},{default:W(()=>[T(P,{value:Y(F).SNOWY_SYS_DEFAULT_PASSWORD_EXPIRED_DAYS_FOR_C,"onUpdate:value":e[10]||(e[10]=_=>Y(F).SNOWY_SYS_DEFAULT_PASSWORD_EXPIRED_DAYS_FOR_C=_),placeholder:"天",style:{width:"100%"}},{addonAfter:W(()=>e[19]||(e[19]=[L(" 天 ")])),_:1},8,["value"])]),_:1})]),_:1}),T(E,{span:12},{default:W(()=>[T(A,{label:"密码过期提前提醒天数：",name:"SNOWY_SYS_DEFAULT_PASSWORD_EXPIRED_NOTICE_DAYS_FOR_C"},{default:W(()=>[T(P,{value:Y(F).SNOWY_SYS_DEFAULT_PASSWORD_EXPIRED_NOTICE_DAYS_FOR_C,"onUpdate:value":e[11]||(e[11]=_=>Y(F).SNOWY_SYS_DEFAULT_PASSWORD_EXPIRED_NOTICE_DAYS_FOR_C=_),placeholder:"天",style:{width:"100%"}},{addonAfter:W(()=>e[20]||(e[20]=[L(" 天 ")])),_:1},8,["value"])]),_:1})]),_:1})]),_:1}),T(E,{span:12},{default:W(()=>[T(A,{label:"自定义额外弱密码库：",name:"SNOWY_SYS_DEFAULT_PASSWORD_DEFINE_WEAK_DATABASE_FOR_C"},{default:W(()=>[T(O,{value:Y(F).SNOWY_SYS_DEFAULT_PASSWORD_DEFINE_WEAK_DATABASE_FOR_C,"onUpdate:value":e[12]||(e[12]=_=>Y(F).SNOWY_SYS_DEFAULT_PASSWORD_DEFINE_WEAK_DATABASE_FOR_C=_),placeholder:"请输入自定义额外弱密码库",style:{width:"100%"}},null,8,["value"])]),_:1})]),_:1}),T(A,null,{default:W(()=>[T(f,{type:"primary",loading:Y(d),onClick:e[13]||(e[13]=_=>{l.value.validate().then(()=>{d.value=!0;let _=a(F.value);const e=Object.entries(_).map(_=>({configKey:_[0],configValue:_[1]}));S.configEditForm(e).then(()=>{}).finally(()=>{d.value=!1})}).catch(()=>{})})},{default:W(()=>e[21]||(e[21]=[L("保存")])),_:1},8,["loading"]),T(f,{class:"xn-ml10",onClick:e[14]||(e[14]=()=>Y(l).resetFields())},{default:W(()=>e[22]||(e[22]=[L("重置")])),_:1})]),_:1})]),_:1},8,["model","label-col","wrapper-col"])]),_:1},8,["spinning"])}}}),[["__scopeId","data-v-190df0a0"]]);export{d as default};
