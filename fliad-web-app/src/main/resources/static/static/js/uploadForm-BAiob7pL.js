import{_ as a}from"./index-yhO5Pkur.js";import{f as e}from"./fileApi-DnApfrPK.js";import{d as l,f as s,a1 as t,a6 as n,V as u,a2 as i,k as o,H as p,u as d,Y as c}from"./vue-vendor-BzDj5Url.js";import"./index-DcffTgQN.js";import"./ant-design-vendor-CRFwT3Wn.js";const f={class:"ant-upload-drag-icon"},r={class:"ant-upload-drag-icon"},m={class:"ant-upload-drag-icon"},v={class:"ant-upload-drag-icon"},g=l({name:"uploadForm"}),y=Object.assign(g,{emits:{successful:null},setup(l,{expose:g,emit:y}){const _=y,h=s(!1),b=s("Local"),x=s(!1),U=()=>{h.value=!1,_("successful")},w=a=>{x.value=!0;const l=new FormData;l.append("file",a.file),e.fileUploadLocalReturnUrl(l).then(()=>{_("successful")}).finally(()=>{x.value=!1})},j=a=>{x.value=!0;const l=new FormData;l.append("file",a.file),e.fileUploadAliyunReturnUrl(l).then(()=>{_("successful")}).finally(()=>{x.value=!1})},k=a=>{x.value=!0;const l=new FormData;l.append("file",a.file),e.fileUploadTencentReturnUrl(l).then(()=>{_("successful")}).finally(()=>{x.value=!1})},F=a=>{x.value=!0;const l=new FormData;l.append("file",a.file),e.fileUploadMinioReturnUrl(l).then(()=>{_("successful")}).finally(()=>{x.value=!1})};return g({openUpload:()=>{h.value=!0}}),(e,l)=>{const s=t("inbox-outlined"),g=t("a-upload-dragger"),y=t("a-spin"),_=t("a-tab-pane"),q=t("a-tabs"),D=a;return u(),n(D,{title:"文件上传",width:550,visible:d(h),"destroy-on-close":!0,bodyStyle:{"padding-top":"0px"},onClose:U},{default:i(()=>[o(q,{activeKey:d(b),"onUpdate:activeKey":l[0]||(l[0]=a=>p(b)?b.value=a:null)},{default:i(()=>[o(_,{key:"Local",tab:"本地"},{default:i(()=>[o(y,{spinning:d(x)},{default:i(()=>[o(g,{"show-upload-list":!1,"custom-request":w},{default:i(()=>[c("p",f,[o(s)]),l[1]||(l[1]=c("p",{class:"ant-upload-text"},"单击或拖动文件到此区域进行上传",-1)),l[2]||(l[2]=c("p",{class:"ant-upload-hint"},"支持单个上传",-1))]),_:1})]),_:1},8,["spinning"])]),_:1}),o(_,{key:"Aliyun",tab:"阿里云"},{default:i(()=>[o(y,{spinning:d(x)},{default:i(()=>[o(g,{"custom-request":j,"show-upload-list":!1},{default:i(()=>[c("p",r,[o(s)]),l[3]||(l[3]=c("p",{class:"ant-upload-text"},"单击或拖动文件到此区域进行上传",-1)),l[4]||(l[4]=c("p",{class:"ant-upload-hint"},"支持单个上传",-1))]),_:1})]),_:1},8,["spinning"])]),_:1}),o(_,{key:"Tencent",tab:"腾讯云"},{default:i(()=>[o(y,{spinning:d(x)},{default:i(()=>[o(g,{"custom-request":k,"show-upload-list":!1},{default:i(()=>[c("p",m,[o(s)]),l[5]||(l[5]=c("p",{class:"ant-upload-text"},"单击或拖动文件到此区域进行上传",-1)),l[6]||(l[6]=c("p",{class:"ant-upload-hint"},"支持单个上传",-1))]),_:1})]),_:1},8,["spinning"])]),_:1}),o(_,{key:"Minio",tab:"MINIO"},{default:i(()=>[o(y,{spinning:d(x)},{default:i(()=>[o(g,{"custom-request":F,"show-upload-list":!1},{default:i(()=>[c("p",v,[o(s)]),l[7]||(l[7]=c("p",{class:"ant-upload-text"},"单击或拖动文件到此区域进行上传",-1)),l[8]||(l[8]=c("p",{class:"ant-upload-hint"},"支持单个上传",-1))]),_:1})]),_:1},8,["spinning"])]),_:1})]),_:1},8,["activeKey"])]),_:1},8,["visible"])}}});export{y as default};
